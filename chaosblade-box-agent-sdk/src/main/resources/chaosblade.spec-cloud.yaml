# Copyright 2025 The ChaosBlade Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

version: v1
kind: plugin
items:
- target: cpu
  shortDesc: Cpu experiment
  longDesc: Cpu experiment, for example full load
  actions:
  - action: fullload
    aliases: [fl, load]
    shortDesc: cpu load
    longDesc: Create chaos engineering experiments with CPU load
    flags:
    - name: cpu-count
      desc: Cpu count
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-list
      desc: CPUs in which to allow burning (0-3 or 1,3)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-percent
      desc: percent of burn CPU (0-100)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: climb-time
      desc: durations(s) to climb
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Create a CPU full load experiment
      blade create cpu load

      #Specifies two random core's full load
      blade create cpu load --cpu-percent 60 --cpu-count 2

      # Specifies that the core is full load with index 0, 3, and that the core's index starts at 0
      blade create cpu load --cpu-list 0,3

      # Specify the core full load of indexes 1-3
      blade create cpu load --cpu-list 1-3

      # Specified percentage load
      blade create cpu load --cpu-percent 60
    programs:
    - chaos_burncpu
    categories:
    - system_cpu
  scope: host
- target: mem
  shortDesc: Mem experiment
  longDesc: Mem experiment, for example load
  actions:
  - action: load
    shortDesc: mem load
    longDesc: Create chaos engineering experiments with memory load
    flags:
    - name: mem-percent
      desc: percent of burn Memory (0-100), must be a positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: reserve to burn Memory, unit is MB. If the mem-percent flag exist, use
        mem-percent first.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: rate
      desc: burn memory rate, unit is M/S, only support for ram mode.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: mode
      desc: burn memory mode, cache or ram.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: include-buffer-cache
      desc: Ram mode mem-percent is include buffer/cache
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: avoid-being-killed
      desc: Prevent mem-burn process from being killed by oom-killer
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # The execution memory footprint is 50%
      blade create mem load --mode ram --mem-percent 50

      # The execution memory footprint is 50%, cache model
      blade create mem load --mode cache --mem-percent 50

      # The execution memory footprint is 50%, usage contains buffer/cache
      blade create mem load --mode ram --mem-percent 50 --include-buffer-cache

      # The execution memory footprint is 50%, avoid mem-burn process being killed
      blade create mem load --mode ram --mem-percent 50 --avoid-being-killed

      # The execution memory footprint is 50% for 200 seconds
      blade create mem load --mode ram --mem-percent 50 --timeout 200

      # 200M memory is reserved
      blade create mem load --mode ram --reserve 200 --rate 100
    programs:
    - chaos_burnmem
    categories:
    - system_mem
  scope: host
- target: process
  shortDesc: Process experiment
  longDesc: Process experiment, for example, kill process
  actions:
  - action: kill
    aliases: [k]
    shortDesc: Kill process
    longDesc: Kill process by process id or process name
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: count
      desc: Limit count, 0 means unlimited
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: local-port
      desc: 'Local service ports. Separate multiple ports with commas (,) or connector
        representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: signal
      desc: Killing process signal, such as 9,15
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-process
      desc: Exclude process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Kill the process that contains the SimpleHTTPServer keyword
      blade create process kill --process SimpleHTTPServer

      # Kill the Java process
      blade create process kill --process-cmd java

      # Specifies the semaphore and local port to kill the process
      blade c process kill --local-port 8080 --signal 15

      # Return success even if the process not found
      blade c process kill --process demo --ignore-not-found
    programs:
    - chaos_killprocess
    categories:
    - system_process
  - action: stop
    aliases: [f]
    shortDesc: process fake death
    longDesc: process fake death by process id or process name
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Pause the process that contains the "SimpleHTTPServer" keyword
      blade create process stop --process SimpleHTTPServer

      # Pause the Java process
      blade create process stop --process-cmd java

      # Return success even if the process not found
      blade create process stop --process demo --ignore-not-found
    programs:
    - chaos_stopprocess
    categories:
    - system_process
  scope: host
- target: network
  shortDesc: Network experiment
  longDesc: Network experiment
  actions:
  - action: delay
    shortDesc: Delay experiment
    longDesc: Delay experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: Delay time, ms
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: Delay offset time, ms
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Access to native 8080 and 8081 ports is delayed by 3 seconds, and the delay time fluctuates by 1 second
      blade create network delay --time 3000 --offset 1000 --interface eth0 --local-port 8080,8081

      # Local access to external 14.215.177.39 machine (ping www.baidu.com obtained IP) port 80 delay of 3 seconds
      blade create network delay --time 3000 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39

      # Do a 5 second delay for the entire network card eth0, excluding ports 22 and 8000 to 8080
      blade create network delay --time 5000 --interface eth0 --exclude-port 22,8000-8080
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: drop
    shortDesc: Drop experiment
    longDesc: Drop network data
    matchers:
    - name: source-ip
      desc: The source ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: The destination ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: source-port
      desc: The source port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-port
      desc: The destination port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: string-pattern
      desc: The string that is contained in the packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: network-traffic
      desc: The direction of network traffic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Block incoming connection from the source ip 10.10.10.10
      blade create network drop --source-ip 10.10.10.10 --network-traffic in

      # Block incoming connection to the destination ip 10.10.10.10
      blade create network drop --destination-ip 10.10.10.10 --network-traffic in

      # Block incoming connection from the port 80
      blade create network drop --source-port 80 --network-traffic in

      # Block incoming connection to the port 80 and 81
      blade create network drop --destination-port 80,81 --network-traffic in

      # Block outgoing connection to the port 80
      blade create network drop --destination-port 80 --network-traffic out

      # Block outgoing connection to the specific domain
      blade create network drop --string-pattern baidu.com --network-traffic out

      # Block outgoing connection to the specific domain on port 80
      blade create network drop --destination-port 80 --string-pattern baidu.com --network-traffic out
    programs:
    - chaos_dropnetwork
    categories:
    - system_network
  - action: dns
    shortDesc: Dns experiment
    longDesc: Dns experiment
    flags:
    - name: domain
      desc: Domain name
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: ip
      desc: Domain ip
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # The domain name www.baidu.com is not accessible
      blade create network dns --domain www.baidu.com --ip 10.0.0.0
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: loss
    shortDesc: Loss network package
    longDesc: Loss network package
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: loss percent, [0, 100]
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Access to native 8080 and 8081 ports lost 70% of packets
      blade create network loss --percent 70 --interface eth0 --local-port 8080,8081

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      blade create network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39

      # Do 60% packet loss for the entire network card Eth0, excluding ports 22 and 8000 to 8080
      blade create network loss --percent 60 --interface eth0 --exclude-port 22,8000-8080

      # Realize the whole network card is not accessible, not accessible time 20 seconds. After executing the following command, the current network is disconnected and restored in 20 seconds. Remember!! Don't forget -timeout parameter
      blade create network loss --percent 100 --interface eth0 --timeout 20
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: duplicate
    shortDesc: Duplicate experiment
    longDesc: Duplicate experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Duplication percent, must be positive integer without %, for example,
        --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Specify the network card eth0 and repeat the packet by 10%
      blade create network duplicate --percent=10 --interface=eth0
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: corrupt
    shortDesc: Corrupt experiment
    longDesc: Corrupt experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Corruption percent, must be positive integer without %, for example, --percent
        50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Access to the specified IP request packet is corrupted, 80% of the time
      blade create network corrupt --percent 80 --destination-ip 180.101.49.12 --interface eth0
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: reorder
    shortDesc: Reorder experiment
    longDesc: Reorder experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Packets are sent immediately percentage, must be positive integer without
        %, for example, --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: correlation
      desc: Correlation on previous packet, value is between 0 and 100
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: gap
      desc: Packet gap, must be positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: time
      desc: Delay time, must be positive integer, unit is millisecond, default value
        is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access the specified IP request packet disorder
      blade c network reorder --correlation 80 --percent 50 --gap 2 --time 500 --interface eth0 --destination-ip 180.101.49.12
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: occupy
    shortDesc: Occupy the specify port
    longDesc: Occupy the specify port, if the port is used, it will return fail, except
      add --force flag
    matchers:
    - name: port
      desc: The port occupied
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: Force kill the process which is using the port
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      #Specify port 8080 occupancy
      blade c network occupy --port 8080 --force

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      blade create network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  scope: host
- target: disk
  shortDesc: Disk experiment
  longDesc: Disk experiment contains fill disk or burn io
  actions:
  - action: fill
    shortDesc: Fill the specified directory path
    longDesc: Fill the specified directory path. If the path is not directory or does
      not exist, an error message will be returned.
    matchers:
    - name: path
      desc: The path of directory where the disk is populated, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Disk fill size, unit is MB. The value is a positive integer without unit,
        for example, --size 1024
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: percent
      desc: Total percentage of disk occupied by the specified path. If size and the
        flag exist, use this flag first. The value must be positive integer without
        %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: 'Disk reserve size, unit is MB. The value is a positive integer without
        unit. If size, percent and reserve flags exist, the priority is as follows:
        percent > reserve > size'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: retain-handle
      desc: Whether to retain the big file handle, default value is false.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Perform a disk fill of 40G to achieve a full disk (34G available)
      blade create disk fill --path /home --size 40000

      # Performs populating the disk by percentage, and retains the file handle that populates the disk
      Command: "blade c disk fill --path /home --percent 80 --retain-handle

      # Perform a fixed-size experimental scenario
      blade c disk fill --path /home --reserve 1024
    programs:
    - chaos_filldisk
    categories:
    - system_disk
  - action: burn
    shortDesc: Increase disk read and write io load
    longDesc: Increase disk read and write io load
    matchers:
    - name: read
      desc: Burn io by read, it will create a 600M for reading and delete it when
        destroy it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: write
      desc: Burn io by write, it will create a file by value of the size flag, for
        example the size default value is 10, then it will create a 10M*100=1000M
        file for writing, and delete it when destroy
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Block size, MB, default is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: path
      desc: The path of directory where the disk is burning, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # The data of rkB/s, wkB/s and % Util were mainly observed. Perform disk read IO high-load scenarios
      blade create disk burn --read --path /home

      # Perform disk write IO high-load scenarios
      blade create disk burn --write --path /home

      # Read and write IO load scenarios are performed at the same time. Path is not specified. The default is /
      blade create disk burn --read --write
    programs:
    - chaos_burnio
    categories:
    - system_disk
  scope: host
- target: script
  shortDesc: Script chaos experiment
  longDesc: Script chaos experiment
  actions:
  - action: delay
    shortDesc: Script executed delay
    longDesc: Sleep in script
    flags:
    - name: time
      desc: sleep time, unit is millisecond
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: file
      desc: Script file full path
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: function-name
      desc: function name in shell
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Add commands to the script "start0() { sleep 10.000000 ...}"
      blade create script delay --time 10000 --file test.sh --function-name start0
    categories:
    - system_script
  - action: exit
    shortDesc: Exit script
    longDesc: Exit script with specify message and code
    flags:
    - name: exit-code
      desc: Exit code
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exit-message
      desc: Exit message
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: file
      desc: Script file full path
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: function-name
      desc: function name in shell
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Add commands to the script "start0() { echo this-is-error-message; exit 1; ... }"
      blade create script exit --exit-code 1 --exit-message this-is-error-message --file test.sh --function-name start0
    categories:
    - system_script
  scope: host
- target: file
  shortDesc: File experiment
  longDesc: File experiment contains file content append, permission modification
    so on
  actions:
  - action: append
    shortDesc: File content append
    longDesc: 'File content append. '
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: content
      desc: append content
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: count
      desc: the number of append count, must be a positive integer, default 1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: interval
      desc: append interval, must be a positive integer, default 1s
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: escape
      desc: symbols to escape, use --escape, at this --count is invalid
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: append content enable base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file
      blade create file append --filepath=/home/logs/nginx.log --content="HELL WORLD"

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, interval 10 seconds
      blade create file append --filepath=/home/logs/nginx.log --content="HELL WORLD" --interval 10

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, enable base64 encoding
      blade create file append --filepath=/home/logs/nginx.log --content=SEVMTE8gV09STEQ=

      # mock interface timeout exception
      blade create file append --filepath=/home/logs/nginx.log --content="@{DATE:+%Y-%m-%d %H:%M:%S} ERROR invoke getUser timeout [@{RANDOM:100-200}]ms abc  mock exception"
    programs:
    - chaos_appendfile
    categories:
    - system_file
  - action: chmod
    shortDesc: File permission modification.
    longDesc: File perçmission modification.
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: mark
      desc: --mark 777
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Modify /home/logs/nginx.log file permissions to 777
      blade create file chmod --filepath /home/logs/nginx.log --mark=777
    programs:
    - chaos_chmodfile
    categories:
    - system_file
  - action: add
    shortDesc: File or path add
    longDesc: File or path add
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: directory
      desc: use --directory flag, --filepath is directory
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: content
      desc: --content, add file content
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: --content use base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Create a file named nginx.log in the /home directory
      blade create file add --filepath /home/nginx.log

      # Create a file named nginx.log in the /home directory with the contents of HELLO WORLD
      blade create file add --filepath /home/nginx.log --content "HELLO WORLD"

      # Create a file named nginx.log in the /temp directory and automatically create directories that don't exist
      blade create file add --filepath /temp/nginx.log --auto-create-dir

      # Create a directory named /nginx in the /temp directory and automatically create directories that don't exist
      blade create file add --directory --filepath /temp/nginx --auto-create-dir
    programs:
    - chaos_addfile
    categories:
    - system_file
  - action: delete
    shortDesc: File delete
    longDesc: File delete
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: force
      desc: use --force flag can't be restored
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Delete the file /home/logs/nginx.log
      blade create file delete --filepath /home/logs/nginx.log

      # Force delete the file /home/logs/nginx.log unrecoverable
      blade create file delete --filepath /home/logs/nginx.log --force
    programs:
    - chaos_deletefile
    categories:
    - system_file
  - action: move
    shortDesc: File move
    longDesc: File move
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: target
      desc: target folder
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: use --force flag overwrite target file
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Move the file /home/logs/nginx.log to /tmp
      blade create file move --filepath /home/logs/nginx.log --target /tmp

      # Force Move the file /home/logs/nginx.log to /temp
      blade create file move --filepath /home/logs/nginx.log --target /tmp --force

      # Move the file /home/logs/nginx.log to /temp/ and automatically create directories that don't exist
      blade create file move --filepath /home/logs/nginx.log --target /temp --auto-create-dir
    programs:
    - chaos_movefile
    categories:
    - system_file
  scope: host
- target: strace
  shortDesc: strace experiment
  longDesc: strace experiment contains syscall delay or syscall error
  actions:
  - action: delay
    shortDesc: Delay the syscall of the target pid
    longDesc: Delay syscall of the specified process, if the process exists
    matchers:
    - name: pid
      desc: The Pid of the target process
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: syscall-name
      desc: The target syscall which will be injected
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: time
      desc: 'sleep time, the unit of time can be specified: s,ms,us,ns'
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: delay-loc
      desc: if the flag is enter, the fault will be injected before the syscall is
        executed. if the flag is exit, the fault will be injected after the syscall
        is executed
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: first
      desc: if the flag is set, the fault will be injected to the first met syscall
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: end
      desc: if the flag is set, the fault will be injected to the last met syscall
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: step
      desc: the fault will be injected intervally
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Create a strace 10s delay experiment to the process
      blade create strace delay --pid 1 --syscall-name mmap --time 10s --delay-loc enter --first=1
    programs:
    - chaos_stracedelay
    categories:
    - system_kernel
  - action: error
    shortDesc: change the syscall's return value of the target pid
    longDesc: change the syscall's return value of the specified process, if the process
      exists
    matchers:
    - name: pid
      desc: The Pid of the target process
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: syscall-name
      desc: The target syscall which will be injected
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: return-value
      desc: the return-value the syscall will return
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: first
      desc: if the flag is true, the fault will be injected to the first met syscall
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: end
      desc: if the flag is true, the fault will be injected to the last met syscall
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: step
      desc: the fault will be injected intervally
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Create a strace error experiment to the process
      blade create strace error --pid 1 --syscall-name mmap --return-value XX --delay-loc enter --first=1
    programs:
    - chaos_straceerror
    categories:
    - system_kernel
  scope: host
- target: systemd
  shortDesc: Systemd experiment
  longDesc: Systemd experiment, for example, stop systemd
  actions:
  - action: stop
    aliases: [s]
    shortDesc: Stop systemd
    longDesc: Stop system by service name
    matchers:
    - name: service
      desc: Service name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore systemd that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

       # Stop the service test
       blade create systemd stop --service test
    programs:
    - chaos_stopsystemd
    categories:
    - system_systemd
  scope: host
- target: dubbo
  shortDesc: Experiment with the Dubbo
  longDesc: Dubbo experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Dubbo interface to do delay experiments, support provider and consumer
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: call-point
      desc: the class and method name who send the request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: group
      desc: The service group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Invoke com.alibaba.demo.HelloService.hello() service, do delay 3 seconds experiment
      blade create dubbo delay --time 3000 --service com.alibaba.demo.HelloService --methodname hello --consumer
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Dubbo interface to do throws custom exception experiments, support provider
      and consumer
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: call-point
      desc: the class and method name who send the request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: group
      desc: The service group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Invoke com.alibaba.demo.HelloService.hello() service, do throws customer exception
      blade create dubbo throwCustomException --exception java.lang.Exception --service com.alibaba.demo.HelloService --methodname hello --consumer
    programs:
    - java
    categories:
    - java_custom
  - action: threadpoolfull
    aliases: [tpf]
    shortDesc: Thread pool full
    longDesc: Do a full load experiment on the Dubbo provider thread pool
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a full load experiment on the Dubbo provider thread pool
      blade c dubbo threadpoolfull --provider
    programs:
    - java
    categories:
    - java_resource_cpu
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: jvm
  shortDesc: Experiment with the JVM
  longDesc: Experiment with the JVM, and you can specify classes, method injection
    delays, return values, exception failure scenarios, or write Groovy and Java scripts
    to implement complex scenarios.
  actions:
  - action: CodeCacheFilling
    aliases: [ccf]
    shortDesc: Fill up code cache.
    longDesc: Filling code cache until JIT compiler turn off.
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Inject code cache full fault
      blade c jvm CodeCacheFilling --process tomcat
    programs:
    - java
    categories:
    - java_resource_mem
  - action: delay
    shortDesc: delay time
    longDesc: The Java method delays the experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Inject a 4-second delay failure on the sayHello method
      blade create jvm delay --time 4000 --classname=com.example.controller.DubboController --methodname=sayHello
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Inject a custom exception failure on the com.example.controller.DubboController.hello() method, effect the two requests
      blade create jvm throwCustomException --exception java.lang.Exception --classname com.example.controller.DubboController --methodname sayHello --effect-count 2
    programs:
    - java
    categories:
    - java_custom
  - action: cpufullload
    aliases: [cfl]
    shortDesc: Process occupied cpu full load
    longDesc: Process occupied cpu full load
    flags:
    - name: cpu-count
      desc: Binding cpu core count
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Specifies full load of all kernel
      blade c jvm cfl --process tomcat

      # Specifies full load of two kernel
      blade c jvm cfl --cpu-count 2 --process tomcat
    programs:
    - java
    categories:
    - java_resource_cpu
  - action: full-gc
    aliases: [fgc]
    shortDesc: JVM full gc
    longDesc: JVM full gc
    flags:
    - name: interval
      desc: Interval between full gc actions
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: total count of full gc actions
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |+
      # Specifies full gc
      blade c jvm fgc --effect-count 100 --interval 1000

    programs:
    - java
    categories:
    - java_resource_mem
  - action: throwDeclaredException
    aliases: [tde]
    shortDesc: Throw the first declared exception of method
    longDesc: Throw the first declared exception of method
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Throw the first declared exception of method, effect the two requests
      blade create jvm throwDeclaredException --classname com.example.controller.DubboController --methodname sayHello --effect-count 2
    programs:
    - java
    categories:
    - java_custom
    - java_exception
  - action: return
    shortDesc: Return the specify value
    longDesc: Return the specify value
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: value
      desc: Value returned, only support primitive type value. If you want return
        null, set --value null
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Inject a tamper return value failure on the com.example.controller.DubboController.hello() method
      blade create jvm return --value hello-chaosblade --classname com.example.controller.DubboController --methodname hello
    programs:
    - java
    categories:
    - java_data_tamper
  - action: script
    shortDesc: Dynamically execute custom scripts
    longDesc: Dynamically execute custom scripts
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: script-file
      desc: The Script file full path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-type
      desc: The script file type, java or groovy, default value is java
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-content
      desc: The script contents
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-name
      desc: The script name for label, unnecessary
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: external-jar
      desc: add external jar file
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: external-jar-path
      desc: add external jar file from path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Using script-Content to specify walk-through script content, without adding a script-type parameter, it defaults to a Java script and calls the Java engine parser.
      blade c jvm script --classname com.example.controller.DubboController --methodname call --script-content aW1wb3J0IGphdmEudXRpbC5NYXA7CgppbXBvcnQgY29tLmV4YW1wbGUuY29udHJvbGxlci5DdXN0b21FeGNlcHRpb247CgovKioKICogQGF1dGhvciBDaGFuZ2p1biBYaWFvCiAqLwpwdWJsaWMgY2xhc3MgRXhjZXB0aW9uU2NyaXB0IHsKICAgIHB1YmxpYyBPYmplY3QgcnVuKE1hcDxTdHJpbmcsIE9iamVjdD4gcGFyYW1zKSB0aHJvd3MgQ3VzdG9tRXhjZXB0aW9uIHsKICAgICAgICBwYXJhbXMucHV0KCIxIiwgMTExTCk7CiAgICAgICAgLy9yZXR1cm4gIk1vY2sgVmFsdWUiOwogICAgICAgIC8vdGhyb3cgbmV3IEN1c3RvbUV4Y2VwdGlvbigiaGVsbG8iKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQo=  --script-name exception

      # Use the script-file parameter to specify the file experiment
      blade c jvm script --classname com.example.controller.DubboController --methodname call --script-file /tmp/ExceptionScript.java --script-name exception

      # The groovy script experiment scenario is executed with the same parameters as above, but the --script-type Groovy parameter must be added
      blade c jvm script --classname com.example.controller.DubboController --methodname call --script-file /tmp/GroovyScript.groovy --script-name exception --script-type groovy

      # Load external jar file
      blade c jvm script --classname com.example.controller.DubboController --methodname call --external-jar file:/temp/chaosblade-extends.jar --script-content xxx
    programs:
    - java
    categories:
    - java_custom
  - action: RepeatCall
    shortDesc: repeat call java method
    longDesc: ""
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: repeat-count
      desc: repeat-count
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: ignore-exception
      desc: ignore exception when repeat call method,default:false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: concurrent
      desc: repeated call concurrent,default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: threadfull
    aliases: [tfl]
    shortDesc: Specifies that the application thread is soaring
    longDesc: Specifies that the application thread is soaring
    flags:
    - name: thread-count
      desc: thread count
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: running
      desc: To tag threads running experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: wait
      desc: To tag threads wait experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Specifies that the application thread is soaring and the status wait
      blade create jvm threadfull --wait --thread-count 20

      #Specifies that the application thread is soaring and running status
      blade create jvm threadfull --running --thread-count 20
    programs:
    - java
    categories:
    - java_resource_cpu
  - action: OutOfMemoryError
    aliases: [oom, outofmemoryerror]
    shortDesc: JVM out of memory
    longDesc: JVM out of memory
    flags:
    - name: area
      desc: Jvm memory area you want to cause OutOfMemoryError,the options:[HEAP,
        NOHEAP, OFFHEAP]
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: wild-mode
      desc: Decide oom happen mode in wild-mode or not,default is false,if true,will
        quickly generate oom error,and the memory  will not release until stop,if
        false,the oom error will not generate at once,and if oom happens frequently,the  memory
        will release each once
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: interval
      desc: Time between to oom error,the time unit is millis,default is 500 ms,only
        used when wilde-mode not true
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: block
      desc: Each block size when fill memory,only used for Heap OffHeap Area,Unit:MB
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The Heap area is filled with memory.
      blade c jvm oom --area HEAP --wild-mode true

      # The Metaspace area is filled with memory. Note that after executing this experiment, the application needs to be restarted ！！！
      blade c jvm oom --area NOHEAP --wild-mode true
    programs:
    - java
    categories:
    - java_resource_cpu
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: mysql
  shortDesc: mysql experiment
  longDesc: Mysql experiment contains delay and exception by table name and so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Mysql delay experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment for mysql client connection port=3306 INSERT statement
      blade create mysql delay --time 2000 --sqltype select --port 3306
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Mysql throws customer exception experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws customer exception experiment for mysql client connection port=3306 INSERT statement
      blade create mysql throwCustomException --exception java.lang.Exception
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: psql
  shortDesc: Postgrelsql experiment
  longDesc: Postgrelsql experiment contains delay and exception by table name and
    so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Postgrelsql delay experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment for Postgrelsql client INSERT statement
      blade create psql delay --sqltype insert --time 4000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Postgrelsql throws custom exception experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception experiment for Postgrelsql client INSERT statement
      blade create psql throwCustomException --sqltype insert --exception java.lang.Exception
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: servlet
  shortDesc: java servlet experiment
  longDesc: Java servlet experiment, support path, query string, request method matcher
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Servlet delay experiment, support servlet springMVC webX
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: method
      desc: The name of the HTTP method with which this request was made, for example,
        GET, POST, or PUT.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath-regex-pattern
      desc: regex match RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring
      desc: The query string that is contained in the request URL after the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring-regex-pattern
      desc: regex match the query string that is contained in the request URL after
        the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath
      desc: equal RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Request to http://localhost:8080/dubbodemo/servlet/path?name=bob delays 3s, effect two requests
      blade c servlet delay --time 3000 --requestpath /dubbodemo/servlet/path --effect-count 2

      # The request parameter is name=family, the delay is 2 seconds, the delay time floats up and down for 1 second, the impact range is 50% of the request, and the debug log is turned on to troubleshoot the problem
      blade c servlet delay --time 2000 --offset 1000 --querystring name=family --effect-percent 50 --debug
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Servlet throw custom exception experiment, support servlet springMVC
      webX
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: method
      desc: The name of the HTTP method with which this request was made, for example,
        GET, POST, or PUT.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath-regex-pattern
      desc: regex match RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring
      desc: The query string that is contained in the request URL after the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring-regex-pattern
      desc: regex match the query string that is contained in the request URL after
        the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath
      desc: equal RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Request to http://localhost:8080/dubbodemo/hello throws custom exception, effect three requests
      blade c servlet throwCustomException --exception org.springframework.beans.BeansException --exception-message mock-beans-exception --requestpath /hello --effect-count 3
    programs:
    - java
    categories:
    - java_custom
  - action: modifyCode
    aliases: [mc]
    shortDesc: update action spec
    longDesc: update action spec
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: method
      desc: The name of the HTTP method with which this request was made, for example,
        GET, POST, or PUT.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath-regex-pattern
      desc: regex match RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring
      desc: The query string that is contained in the request URL after the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring-regex-pattern
      desc: regex match the query string that is contained in the request URL after
        the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath
      desc: equal RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: code
      desc: http code
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |+
      # Request to http://localhost:8080/dubbodemo/servlet/path?name=bob return 404
      blade c servlet mc --requestpath /dubbodemo/servlet/path --code=404

    programs:
    - java
    categories:
    - java_data_tamper
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: tddl
  shortDesc: Tddl experiment
  longDesc: Tddl experiment contains delay and exception by table name and so on.
  actions:
  - action: updatecolumnchange
    aliases: [ucc]
    shortDesc: change sql update column value
    longDesc: change sql update column value
    matchers:
    - name: sqltype
      desc: The sql type, for example, insert, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: column
      desc: column name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The table name in sql
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: type
      desc: column change type, for example, num_add
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: before
      desc: column before value
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: column after value
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: where_rule
      desc: where rule
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: num_offset
      desc: num_offset
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_data_tamper
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: Application name of the tddl
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: Application name of the tddl
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: connectionpoolfull
    aliases: [cpf]
    shortDesc: Connection pool full
    longDesc: Connection pool full
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: Application name of the tddl
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_resource_cpu
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: tair
  shortDesc: Tair experiment
  longDesc: Tair experiment
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: configId
      desc: The tair config id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Tair namespace
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: operation
      desc: The tair operation, currently support put,delete,invalid,hide,hideByProxy,get,incr,decr,prefixIncr,prefixDecr,getHidden,prefixDeletes,prefixInvalids,prefixHides,prefixHidesByProxy,prefixGetHiddens,prefixSetCounts,prefixIncrs,prefixDecrs,getRange,
        operations
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: group
      desc: Tair group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: username
      desc: Tair username
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: configId
      desc: The tair config id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Tair namespace
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: operation
      desc: The tair operation, currently support put,delete,invalid,hide,hideByProxy,get,incr,decr,prefixIncr,prefixDecr,getHidden,prefixDeletes,prefixInvalids,prefixHides,prefixHidesByProxy,prefixGetHiddens,prefixSetCounts,prefixIncrs,prefixDecrs,getRange,
        operations
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: group
      desc: Tair group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: username
      desc: Tair username
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: exitcode
    aliases: [ec]
    shortDesc: Return the tair exit code
    longDesc: Return the tair exit code
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: configId
      desc: The tair config id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Tair namespace
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: operation
      desc: The tair operation, currently support put,delete,invalid,hide,hideByProxy,get,incr,decr,prefixIncr,prefixDecr,getHidden,prefixDeletes,prefixInvalids,prefixHides,prefixHidesByProxy,prefixGetHiddens,prefixSetCounts,prefixIncrs,prefixDecrs,getRange,
        operations
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: group
      desc: Tair group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: username
      desc: Tair username
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: value
      desc: Value returned, only support primitive type value. If you want return
        null, set --value null
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_data_tamper
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: hsf
  shortDesc: Hsf experiment
  longDesc: Hsf experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: threadpoolfull
    aliases: [tpf]
    shortDesc: Thread pool full
    longDesc: Thread pool full
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_resource_cpu
  - action: return
    shortDesc: edit hsf return value
    longDesc: edit hsf return value
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: script-file
      desc: The Script file full path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-type
      desc: The script file type, java or groovy, default value is java
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-content
      desc: The script contents
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-name
      desc: The script name for label, unnecessary
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_data_tamper
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: sentinel
  shortDesc: Sentinel experiment
  longDesc: Sentinel experiment for testing sentinel exception.
  actions:
  - action: flow
    shortDesc: throw flow exception
    longDesc: Throw flow exception with --provider option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: invoketype
      desc: 'The invoke type, valid values : hsf'
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: provider
      desc: To tag provider role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_exception
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: druid
  shortDesc: Experiment with the Druid
  longDesc: Experiment with the Druid database connection pool, For example `blade
    create druid connectionpoolfull`
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: connectionpoolfull
    aliases: [cpf]
    shortDesc: Connection pool full
    longDesc: Connection pool full
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a full load experiment on the Druid database connection pool
      blade create druid connectionpoolfull
    programs:
    - java
    categories:
    - java_resource_cpu
  - action: sql
    shortDesc: sql tamper
    longDesc: sql tamper, tamper update  or insert column value
    matchers:
    - name: sqltype
      desc: sql type
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: application
      desc: application(schema) name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: table name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: after
      desc: column after value
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: before
      desc: column before value
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: column
      desc: column name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: where_rule
      desc: where rule
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: type
      desc: column change type, for example, num_add, num_sub
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: offset
      desc: column type is number, number offset
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_data_tamper
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: http
  shortDesc: http experiment
  longDesc: http experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: HTTP client delay experiment
    matchers:
    - name: httpclient4
      desc: To tag httpclient4 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: rest
      desc: To tag restTemplate experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: httpclient3
      desc: To tag httpclient3 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: uri
      desc: url
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: asyncHttpClient
      desc: To tag async-http-client experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: okhttp3
      desc: To tag okhttp3 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: call-point
      desc: the class and method name who send the request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 3s experiment with HTTP request URI = https://www.taobao.com for HttpClient4
      blade create http delay --httpclient4 --uri https://www.taobao.com --time 3000

      # Do a delay 3s experiment with HTTP request URI = https://www.taobao.com for HttpClient3
      blade create http delay --httpclient3 --uri https://www.taobao.com --time 3000

      # Do a delay 3s experiment with HTTP request URI = https://www.taobao.com for RestTemplate
      blade create http delay --rest --uri https://www.taobao.com --time 3000

      #Do a delay 3s experiment with HTTP request URI = https://www.taobao.com for OkHttp3
      blade create http delay --okhttp3 --uri https://www.taobao.com --time 3000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: HTTP client throws custom exception experiment
    matchers:
    - name: httpclient4
      desc: To tag httpclient4 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: rest
      desc: To tag restTemplate experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: httpclient3
      desc: To tag httpclient3 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: uri
      desc: url
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: asyncHttpClient
      desc: To tag async-http-client experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: okhttp3
      desc: To tag okhttp3 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: call-point
      desc: the class and method name who send the request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception with HTTP request URI = https://www.taobao.com/ for HttpClient4
      blade c http throwCustomException --httpclient4 --exception=java.lang.Exception --exception-message=customException --uri=https://www.taobao.com/
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: rocketmq
  shortDesc: Rocketmq experiment,can make message send or pull delay and exception
  longDesc: Rocketmq experiment,can make message send or pull delay and exception,default
    if you not set [producerGroup,consumerGroup],will effect both send and pull message,if
    you only set producerGroup for specific group,will only effect on sendMessage,if
    you only set consumerGroup,will only effect pullMessage for specific group
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: RocketMq delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: tags
      desc: Message tags, cant not support consumer!
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producerGroup
      desc: Message producer group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: Message topic
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: consumerGroup
      desc: Message consumer group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: batch-send
      desc: tags support batch-send
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 3s experiment on the RocketMq when topic=xx consumerGroup=xx
      blade create rocketmq --topic=xx --consumerGroup=xx delay --time=3000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: RocketMq throws custom exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: tags
      desc: Message tags, cant not support consumer!
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producerGroup
      desc: Message producer group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: Message topic
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: consumerGroup
      desc: Message consumer group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: batch-send
      desc: tags support batch-send
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throw custom exception experiment on the RocketMq when topic=xx consumerGroup=xx
      blade create rocketmq throwCustomException --exception java.lang.Exception --topic=xx --consumerGroup=xx
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: jedis
  shortDesc: jedis experiment
  longDesc: jedis experiment contains delay and exception by command and so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Jedis commands delay experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: The cmd type, for example, set, hget,zadd and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: The key which command used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment on Jedis `hset key name lina` command
      blade create jedis delay --cmd hset --key name --time 2000

      #Do a delay 2s experiment on Jedis `key name lina` command
      blade create jedis delay --key name --time 2000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Jedis commands throws custom exception experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: The cmd type, for example, set, hget,zadd and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: The key which command used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception experiment on Jedis `key name lina` command
      blade create jedis throwCustomException --exception java.lang.Exception --key name
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: notify
  shortDesc: notify send or receive message error
  longDesc: ""
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: notifyTopic
      desc: notify topic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyMessageType
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyGroupId
      desc: notify group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyOperation
      desc: operation,the value:producer or consumer
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: notifyTopic
      desc: notify topic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyMessageType
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyGroupId
      desc: notify group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyOperation
      desc: operation,the value:producer or consumer
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: tars
  shortDesc: tars experiment
  longDesc: Tars experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Tars delay experiment
    matchers:
    - name: servant
      desc: to tag servant role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: functionname
      desc: The name of function to be invoked
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: client
      desc: to tag the client role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: servantname
      desc: The name of servant
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 3s experiment on tars interface
      blade create tars delay --time 3000 --client --servantname app.server.obj --functionname hello
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Tars throws custom exception experiment
    matchers:
    - name: servant
      desc: to tag servant role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: functionname
      desc: The name of function to be invoked
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: client
      desc: to tag the client role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: servantname
      desc: The name of servant
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throw custom exception experiment on tars interface
      blade c tars throwCustomException --exception org.springframework.beans.BeansException --exception-message mock-beans-exception --client --servantname=app.server.obj
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: rabbitmq
  shortDesc: rabbitmq experiment
  longDesc: rabbitmq experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: RabbitMq delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: routingkey
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exchange
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Delay when the producer sends the message
      blade create rabbitmq delay --time 3000 --producer
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: RabbitMq throws custom exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: routingkey
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exchange
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Throw exception when the producer sends the message
      blade create rabbitmq throwCustomException --exception java.lang.Exception --exception-message mock-beans-exception --producer
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: mongodb
  shortDesc: MongoDB experiment
  longDesc: MongoDB experiment contains delay and exception by Collection name and
    so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: MongoDB delay experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, insert, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: collection
      desc: The first collection name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment for mongodb client insert operations
      blade create mongodb delay --time 2000 --sqltype insert
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: MongoDB throws customer exception experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, insert, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: collection
      desc: The first collection name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws customer exception experiment for mongodb client insert operations
      blade create mongodb throwCustomException --exception java.lang.Exception --sqltype insert
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: hbase
  shortDesc: hbase experiment!
  longDesc: hbase experiment contains delay and exception by table name and so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: hbase delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The hbase table which used
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment for hbase client connection INSERT statement
      blade create hbase delay --table table1
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: hbase throws customer exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The hbase table which used
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws customer exception experiment for mysql client connection port=3306 INSERT statement
      blade create hbase throwCustomException --exception java.lang.Exception --table table2
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: redisson
  shortDesc: redisson experiment
  longDesc: redisson experiment contains delay and exception by command and so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Redisson commands delay experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: The cmd type, for example, set, hget,zadd and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: The key which command used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment on Redisson `hset key name lina` command
      blade create redisson delay --cmd hset --key name --time 2000

      #Do a delay 2s experiment on Redisson `key name lina` command
      blade create redisson delay --key name --time 2000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Redisson commands throws custom exception experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: The cmd type, for example, set, hget,zadd and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: The key which command used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception experiment on Redisson `key name lina` command
      blade create redisson throwCustomException --exception java.lang.Exception --key name
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: lettuce
  shortDesc: redis client lettuce experiment
  longDesc: redis client lettuce experiment
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Lettuce client delay experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: cmd matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: key matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment on Lettuce `hset key name lina` command
      blade create lettuce delay --cmd hset --key name --time 2000

      #Do a delay 2s experiment on Jedis `key name lina` command
      blade create lettuce delay --key name --time 2000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Lettuce client throws custom exception experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: cmd matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: key matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception experiment on Lettuce `key name lina` command
      blade create lettuce throwCustomException --exception java.lang.Exception --key name
    programs:
    - java
    categories:
    - java_custom
  - action: update
    shortDesc: update action spec
    longDesc: update action spec
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: cmd matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: key matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: value
      desc: value set
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a update value experiment on Lettuce `key name lina` command
      blade create lettuce update --value "i'm hacker" --key name
    programs:
    - java
    categories:
    - java_data_tamper
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: kafka
  shortDesc: kafka experiment
  longDesc: kafka experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Kafka delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Delay when the producer sends the message
      blade create kafka delay --time 3000 --producer
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Kafka throws custom exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Throw exception when the producer sends the message
      blade create kafka throwCustomException --exception java.lang.Exception --exception-message mock-beans-exception --producer
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: gateway
  shortDesc: gateway experiment!
  longDesc: gateway experiment contains delay and exception
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: SpringCloud Gateway delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestPath
      desc: The gateway path which used
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |+
      # Do a delay 2s experiment for SpringCloud Gateway forward operations
      blade create gateway delay --requestPath /gateway/path --time 2000

    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: SpringCloudGateway throws customer exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestPath
      desc: The gateway path which used
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws customer exception experiment for SpringCloud Gateway operations
      blade create gateway throwCustomException --exception java.lang.Exception --requestPath /gateway/path
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: log
  shortDesc: log experiment
  longDesc: log experiment for testing service delay.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Log framework delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: logback
      desc: To tag logback experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Do a delay 1s experiment take effect 100 times
      blade create log delay --logback --time 1000 --effect-count 100
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: logback
      desc: To tag logback experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  scope: host
  prepare:
    type: jvm
    flags:
    - name: process
      desc: Java application process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Java home path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: the target java process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The port for agent
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: The attach result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    required: true
- target: mem
  shortDesc: Mem experiment
  longDesc: Mem experiment, for example load
  actions:
  - action: load
    shortDesc: mem load
    longDesc: The memory fill experiment scenario in docker container
    flags:
    - name: mem-percent
      desc: percent of burn Memory (0-100), must be a positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: reserve to burn Memory, unit is MB. If the mem-percent flag exist, use
        mem-percent first.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: rate
      desc: burn memory rate, unit is M/S, only support for ram mode.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: mode
      desc: burn memory mode, cache or ram.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: include-buffer-cache
      desc: Ram mode mem-percent is include buffer/cache
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: avoid-being-killed
      desc: Prevent mem-burn process from being killed by oom-killer
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The execution memory footprint is 50%
      blade create docker mem load --mode ram --mem-percent 50 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # The execution memory footprint is 50%, cache model
      blade create docker mem load --mode cache --mem-percent 50 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # The execution memory footprint is 50%, usage contains buffer/cache
      blade create docker mem load --mode ram --mem-percent 50 --include-buffer-cache --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # The execution memory footprint is 50% for 200 seconds
      blade create docker mem load --mode ram --mem-percent 50 --timeout 200 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # 200M memory is reserved
      blade create docker mem load --mode ram --reserve 200 --rate 100 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_burnmem
    categories:
    - system_mem
  scope: docker
- target: file
  shortDesc: File experiment
  longDesc: File experiment contains file content append, permission modification
    so on
  actions:
  - action: append
    shortDesc: File content append
    longDesc: 'File content append. '
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: content
      desc: append content
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: count
      desc: the number of append count, must be a positive integer, default 1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: interval
      desc: append interval, must be a positive integer, default 1s
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: escape
      desc: symbols to escape, use --escape, at this --count is invalid
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: append content enable base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file
      blade create docker file append --filepath=/home/logs/nginx.log --content="HELL WORLD" --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, interval 10 seconds
      blade create docker file append --filepath=/home/logs/nginx.log --content="HELL WORLD" --interval 10 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, enable base64 encoding
      blade create docker file append --filepath=/home/logs/nginx.log --content=SEVMTE8gV09STEQ= --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # mock interface timeout exception
      blade create docker file append --filepath=/home/logs/nginx.log --content="@{DATE:+%Y-%m-%d %H:%M:%S} ERROR invoke getUser timeout [@{RANDOM:100-200}]ms abc  mock exception" --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_appendfile
    categories:
    - system_file
  - action: chmod
    shortDesc: File permission modification.
    longDesc: File perçmission modification.
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: mark
      desc: --mark 777
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Modify /home/logs/nginx.log file permissions to 777
      blade create docker file chmod --filepath /home/logs/nginx.log --mark=777 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_chmodfile
    categories:
    - system_file
  - action: add
    shortDesc: File or path add
    longDesc: File or path add
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: directory
      desc: use --directory flag, --filepath is directory
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: content
      desc: --content, add file content
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: --content use base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Create a file named nginx.log in the /home directory
      blade create docker file add --filepath /home/nginx.log --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Create a file named nginx.log in the /home directory with the contents of HELLO WORLD
      blade create docker file add --filepath /home/nginx.log --content "HELLO WORLD" --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Create a file named nginx.log in the /temp directory and automatically create directories that don't exist
      blade create docker file add --filepath /temp/nginx.log --auto-create-dir --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Create a directory named /nginx in the /temp directory and automatically create directories that don't exist
      blade create docker file add --directory --filepath /temp/nginx --auto-create-dir --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_addfile
    categories:
    - system_file
  - action: delete
    shortDesc: File delete
    longDesc: File delete
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: force
      desc: use --force flag can't be restored
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Delete the file /home/logs/nginx.log
      blade create docker file delete --filepath /home/logs/nginx.log --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Force delete the file /home/logs/nginx.log unrecoverable
      blade create docker file delete --filepath /home/logs/nginx.log --force --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_deletefile
    categories:
    - system_file
  - action: move
    shortDesc: File move
    longDesc: File move
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: target
      desc: target folder
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: use --force flag overwrite target file
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Move the file /home/logs/nginx.log to /tmp
      blade create docker file delete --filepath /home/logs/nginx.log --target /tmp --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Force Move the file /home/logs/nginx.log to /temp
      blade create docker file delete --filepath /home/logs/nginx.log --target /tmp --force --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Move the file /home/logs/nginx.log to /temp/ and automatically create directories that don't exist
      blade create docker file delete --filepath /home/logs/nginx.log --target /temp --auto-create-dir --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_movefile
    categories:
    - system_file
  scope: docker
- target: container
  shortDesc: Execute a docker experiment
  longDesc: Execute a docker experiment. The local host must be installed docker command.
  actions:
  - action: remove
    aliases: [rm]
    shortDesc: remove a container
    longDesc: remove a container
    flags:
    - name: force
      desc: force remove
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Delete the container id that is a76d53933d3f",
      blade create docker container remove --container-id a76d53933d3f
    categories:
    - system_container
  scope: docker
- target: network
  shortDesc: Network experiment
  longDesc: Network experiment
  actions:
  - action: delay
    shortDesc: Delay experiment
    longDesc: Delay experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: Delay time, ms
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: Delay offset time, ms
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to native 8080 and 8081 ports is delayed by 3 seconds, and the delay time fluctuates by 1 second
      blade create docker network delay --time 3000 --offset 1000 --interface eth0 --local-port 8080,8081 --container-id ee54f1e61c08

      # Local access to external 14.215.177.39 machine (ping www.baidu.com obtained IP) port 80 delay of 3 seconds
      blade create docker network delay --time 3000 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --container-id ee54f1e61c08

      # Do a 5 second delay for the entire network card eth0, excluding ports 22 and 8000 to 8080
      blade create docker network delay --time 5000 --interface eth0 --exclude-port 22,8000-8080 --container-id ee54f1e61c08
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: drop
    shortDesc: Drop experiment
    longDesc: Drop network data
    matchers:
    - name: source-ip
      desc: The source ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: The destination ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: source-port
      desc: The source port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-port
      desc: The destination port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: string-pattern
      desc: The string that is contained in the packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: network-traffic
      desc: The direction of network traffic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Block incoming connection from the port 80
      blade create docker network drop --source-port 80 --network-traffic in --container-id ee54f1e61c08
    programs:
    - chaos_dropnetwork
    categories:
    - system_network
  - action: dns
    shortDesc: Dns experiment
    longDesc: Dns experiment
    flags:
    - name: domain
      desc: Domain name
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: ip
      desc: Domain ip
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The domain name www.baidu.com is not accessible
      blade create docker network dns --domain www.baidu.com --ip 10.0.0.0 --container-id ee54f1e61c08
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: loss
    shortDesc: Loss network package
    longDesc: Loss network package
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: loss percent, [0, 100]
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to native 8080 and 8081 ports lost 70% of packets
      blade create docker network loss --percent 70 --interface eth0 --local-port 8080,8081 --container-id ee54f1e61c08

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      blade create docker network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --container-id ee54f1e61c08

      # Do 60% packet loss for the entire network card Eth0, excluding ports 22 and 8000 to 8080
      blade create docker network loss --percent 60 --interface eth0 --exclude-port 22,8000-8080 --container-id ee54f1e61c08

      # Realize the whole network card is not accessible, not accessible time 20 seconds. After executing the following command, the current network is disconnected and restored in 20 seconds. Remember!! Don't forget -timeout parameter
      blade create docker network loss --percent 100 --interface eth0 --timeout 20 --container-id ee54f1e61c08
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: duplicate
    shortDesc: Duplicate experiment
    longDesc: Duplicate experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Duplication percent, must be positive integer without %, for example,
        --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Specify the network card eth0 and repeat the packet by 10%
      blade create docker network duplicate --percent=10 --interface=eth0 --container-id ee54f1e61c08
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: corrupt
    shortDesc: Corrupt experiment
    longDesc: Corrupt experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Corruption percent, must be positive integer without %, for example, --percent
        50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to the specified IP request packet is corrupted, 80% of the time
      blade create docker network corrupt --percent 80 --destination-ip 180.101.49.12 --interface eth0 --container-id ee54f1e61c08
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: reorder
    shortDesc: Reorder experiment
    longDesc: Reorder experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Packets are sent immediately percentage, must be positive integer without
        %, for example, --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: correlation
      desc: Correlation on previous packet, value is between 0 and 100
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: gap
      desc: Packet gap, must be positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: time
      desc: Delay time, must be positive integer, unit is millisecond, default value
        is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access the specified IP request packet disorder
      blade create docker network reorder --correlation 80 --percent 50 --gap 2 --time 500 --interface eth0 --destination-ip 180.101.49.12 --container-id ee54f1e61c08
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: occupy
    shortDesc: Occupy the specify port
    longDesc: Occupy the specify port, if the port is used, it will return fail, except
      add --force flag
    matchers:
    - name: port
      desc: The port occupied
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: Force kill the process which is using the port
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      #Specify port 8080 occupancy
      blade create docker network occupy --port 8080 --force --container-id ee54f1e61c08

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      blade create docker network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --container-id ee54f1e61c08
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  scope: docker
- target: process
  shortDesc: Process experiment
  longDesc: Process experiment, for example, kill process
  actions:
  - action: kill
    aliases: [k]
    shortDesc: Kill process
    longDesc: The process scenario in docker container is the same as the basic resource
      process scenario
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: count
      desc: Limit count, 0 means unlimited
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: local-port
      desc: 'Local service ports. Separate multiple ports with commas (,) or connector
        representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: signal
      desc: Killing process signal, such as 9,15
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-process
      desc: Exclude process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Kill the nginx process in the container
      blade create docker process kill --process nginx --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Specifies the signal and local port to kill the process in the container
      blade create docker process kill --local-port 8080 --signal 15 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_killprocess
    categories:
    - system_process
  - action: stop
    aliases: [f]
    shortDesc: process fake death
    longDesc: The process scenario in docker container is the same as the basic resource
      process scenario
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Pause the process that contains the "nginx" keyword in the container
      blade create docker process stop --process nginx --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Pause the Java process in the container
      blade create docker process stop --process-cmd java --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_stopprocess
    categories:
    - system_process
  scope: docker
- target: cpu
  shortDesc: Cpu experiment
  longDesc: Cpu experiment, for example full load
  actions:
  - action: fullload
    aliases: [fl, load]
    shortDesc: cpu load
    longDesc: The CPU load experiment scenario in docker container is the same as
      the CPU scenario of basic resources
    flags:
    - name: cpu-count
      desc: Cpu count
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-list
      desc: CPUs in which to allow burning (0-3 or 1,3)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-percent
      desc: percent of burn CPU (0-100)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: climb-time
      desc: durations(s) to climb
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Create a CPU full load experiment in the container
      blade create docker cpu load --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      #Specifies two random kernel's full load in the container
      blade create docker cpu load --cpu-percent 60 --cpu-count 2 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Specifies that the kernel is full load with index 0, 3, and that the kernel's index starts at 0
      blade create docker cpu load --cpu-list 0,3 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Specify the kernel full load of indexes 1-3
      blade create docker cpu load --cpu-list 1-3 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Specified percentage load in the container
      blade create docker cpu load --cpu-percent 60 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_burncpu
    categories:
    - system_cpu
  scope: docker
- target: disk
  shortDesc: Disk experiment
  longDesc: Disk experiment contains fill disk or burn io
  actions:
  - action: fill
    shortDesc: Fill the specified directory path
    longDesc: The disk fill scenario experiment in the container
    matchers:
    - name: path
      desc: The path of directory where the disk is populated, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Disk fill size, unit is MB. The value is a positive integer without unit,
        for example, --size 1024
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: percent
      desc: Total percentage of disk occupied by the specified path. If size and the
        flag exist, use this flag first. The value must be positive integer without
        %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: 'Disk reserve size, unit is MB. The value is a positive integer without
        unit. If size, percent and reserve flags exist, the priority is as follows:
        percent > reserve > size'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: retain-handle
      desc: Whether to retain the big file handle, default value is false.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Fill the /home directory with 40G of disk space in the container
      blade create docker disk fill --path /home --size 40000 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Fill the /home directory with 80% of the disk space in the container and retains the file handle that populates the disk
      blade create docker disk fill --path /home --percent 80 --retain-handle --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Perform a fixed-size experimental scenario in the container
      blade c docker disk fill --path /home --reserve 1024 --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_filldisk
    categories:
    - system_disk
  - action: burn
    shortDesc: Increase disk read and write io load
    longDesc: Disk read and write IO load experiment in the container
    matchers:
    - name: read
      desc: Burn io by read, it will create a 600M for reading and delete it when
        destroy it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: write
      desc: Burn io by write, it will create a file by value of the size flag, for
        example the size default value is 10, then it will create a 10M*100=1000M
        file for writing, and delete it when destroy
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Block size, MB, default is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: path
      desc: The path of directory where the disk is burning, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-id
      desc: Container id, when used with container-name, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-name
      desc: Container name, when used with container-id, container-id is preferred
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-repo
      desc: Image repository of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: image-version
      desc: Image version of the chaosblade-tool
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: docker-endpoint
      desc: Docker socket endpoint
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-release
      desc: The pull path of the chaosblade tar package, for example, --chaosblade-release
        /opt/chaosblade-0.4.0.tar.gz
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The data of rkB/s, wkB/s and % Util were mainly observed. Perform disk read IO high-load scenarios
      blade create docker disk burn --read --path /home --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Perform disk write IO high-load scenarios
      blade create docker disk burn --write --path /home --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08

      # Read and write IO load scenarios are performed at the same time. Path is not specified. The default is /
      blade create docker disk burn --read --write --chaosblade-release /root/chaosblade-0.6.0.tar.gz --container-id ee54f1e61c08
    programs:
    - chaos_burnio
    categories:
    - system_disk
  scope: docker
- target: mem
  shortDesc: Mem experiment
  longDesc: Mem experiment, for example load
  actions:
  - action: load
    shortDesc: mem load
    longDesc: The memory fill experiment scenario in container
    flags:
    - name: mem-percent
      desc: percent of burn Memory (0-100), must be a positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: reserve to burn Memory, unit is MB. If the mem-percent flag exist, use
        mem-percent first.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: rate
      desc: burn memory rate, unit is M/S, only support for ram mode.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: mode
      desc: burn memory mode, cache or ram.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: include-buffer-cache
      desc: Ram mode mem-percent is include buffer/cache
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: avoid-being-killed
      desc: Prevent mem-burn process from being killed by oom-killer
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The execution memory footprint is 50%
      ## using SSH channel
      blade create k8s node-mem load --mode ram --mem-percent 50 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-mem load --mode ram --mem-percent 50 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # The execution memory footprint is 50%, cache model
      ## using SSH channel
      blade create k8s node-mem load --mode cache --mem-percent 50 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-mem load --mode cache --mem-percent 50 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # The execution memory footprint is 50%, usage contains buffer/cache
      ## using SSH channel
      blade create k8s node-mem load --mode ram --mem-percent 50 --include-buffer-cache --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-mem load --mode ram --mem-percent 50 --include-buffer-cache --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # The execution memory footprint is 50% for 200 seconds
      ## using SSH channel
      blade create k8s node-mem load --mode ram --mem-percent 50 --timeout 200 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-mem load --mode ram --mem-percent 50 --timeout 200 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config

      # 200M memory is reserved
      ## using SSH channel
      blade create k8s node-mem load --mode ram --reserve 200 --rate 100 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-mem load --mode ram --reserve 200 --rate 100 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_burnmem
    categories:
    - system_mem
  scope: node
- target: file
  shortDesc: File experiment
  longDesc: File experiment contains file content append, permission modification
    so on
  actions:
  - action: append
    shortDesc: File content append
    longDesc: 'File content append. '
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: content
      desc: append content
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: count
      desc: the number of append count, must be a positive integer, default 1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: interval
      desc: append interval, must be a positive integer, default 1s
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: escape
      desc: symbols to escape, use --escape, at this --count is invalid
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: append content enable base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file
      blade create k8s node-file append --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath=/home/logs/nginx.log --content="HELL WORLD"

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, interval 10 seconds
      blade create k8s node-file append --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath=/home/logs/nginx.log --content="HELL WORLD" --interval 10

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, enable base64 encoding
      blade create k8s node-file append --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath=/home/logs/nginx.log --content=SEVMTE8gV09STEQ=

      # mock interface timeout exception
      blade create k8s node-file append --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath=/home/logs/nginx.log --content="@{DATE:+%Y-%m-%d %H:%M:%S} ERROR invoke getUser timeout [@{RANDOM:100-200}]ms abc  mock exception"
    programs:
    - chaos_appendfile
    categories:
    - system_file
  - action: chmod
    shortDesc: File permission modification.
    longDesc: File perçmission modification.
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: mark
      desc: --mark 777
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Modify /home/logs/nginx.log file permissions to 777
      blade create k8s node-file chmod --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /home/logs/nginx.log --mark=777
    programs:
    - chaos_chmodfile
    categories:
    - system_file
  - action: add
    shortDesc: File or path add
    longDesc: File or path add
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: directory
      desc: use --directory flag, --filepath is directory
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: content
      desc: --content, add file content
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: --content use base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Create a file named nginx.log in the /home directory
      blade create k8s node-file add --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /home/nginx.log

      # Create a file named nginx.log in the /home directory with the contents of HELLO WORLD
      blade create k8s node-file add --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /home/nginx.log --content "HELLO WORLD"

      # Create a file named nginx.log in the /temp directory and automatically create directories that don't exist
      blade create k8s node-file add --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /temp/nginx.log --auto-create-dir

      # Create a directory named /nginx in the /temp directory and automatically create directories that don't exist
      blade create k8s node-file add --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --directory --filepath /temp/nginx --auto-create-dir
    programs:
    - chaos_addfile
    categories:
    - system_file
  - action: delete
    shortDesc: File delete
    longDesc: File delete
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: force
      desc: use --force flag can't be restored
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Delete the file /home/logs/nginx.log
      blade create k8s node-file delete --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /home/logs/nginx.log

      # Force delete the file /home/logs/nginx.log unrecoverable
      blade create k8s node-file delete --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /home/logs/nginx.log --force
    programs:
    - chaos_deletefile
    categories:
    - system_file
  - action: move
    shortDesc: File move
    longDesc: File move
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: target
      desc: target folder
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: use --force flag overwrite target file
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Move the file /home/logs/nginx.log to /tmp
      blade create k8s node-file move --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /home/logs/nginx.log --target /tmp

      # Force Move the file /home/logs/nginx.log to /temp
      blade create k8s node-file move --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /home/logs/nginx.log --target /tmp --force

      # Move the file /home/logs/nginx.log to /temp/ and automatically create directories that don't exist
      blade create k8s node-file move --names nginx-app --channel ssh --ssh-host 192.168.1.100 --ssh-user root --filepath /home/logs/nginx.log --target /temp --auto-create-dir
    programs:
    - chaos_movefile
    categories:
    - system_file
  scope: node
- target: script
  shortDesc: Script chaos experiment
  longDesc: Script chaos experiment
  actions:
  - action: delay
    shortDesc: Script executed delay
    longDesc: Sleep in script
    flags:
    - name: time
      desc: sleep time, unit is millisecond
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: file
      desc: Script file full path
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: function-name
      desc: function name in shell
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Add commands to the script "start0() { sleep 10.000000 ...}"
      ## using SSH channel
      blade create k8s node-script delay --time 10000 --file test.sh --function-name start0 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-script delay --time 10000 --file test.sh --function-name start0 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    categories:
    - system_script
  - action: exit
    shortDesc: Exit script
    longDesc: Exit script with specify message and code
    flags:
    - name: exit-code
      desc: Exit code
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exit-message
      desc: Exit message
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: file
      desc: Script file full path
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: function-name
      desc: function name in shell
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Add commands to the script "start0() { echo this-is-error-message; exit 1; ... }"
      ## using SSH channel
      blade create k8s node-script exit --exit-code 1 --exit-message this-is-error-message --file test.sh --function-name start0 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-script exit --exit-code 1 --exit-message this-is-error-message --file test.sh --function-name start0 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    categories:
    - system_script
  scope: node
- target: cpu
  shortDesc: Cpu experiment
  longDesc: Cpu experiment, for example full load
  actions:
  - action: fullload
    aliases: [fl, load]
    shortDesc: cpu load
    longDesc: The CPU load experiment scenario for k8s node
    flags:
    - name: cpu-count
      desc: Cpu count
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-list
      desc: CPUs in which to allow burning (0-3 or 1,3)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-percent
      desc: percent of burn CPU (0-100)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: climb-time
      desc: durations(s) to climb
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: "# Create a CPU full load experiment in the node\n## using SSH channel
      \nblade create k8s node-cpu load --channel ssh --ssh-host 192.168.1.100 --ssh-user
      root\n## using DaemonSet\nblade create k8s node-cpu load --names izbp1a4jchbdwkwi5hk7ekz
      --kubeconfig ~/.kube/config --timeout 30\n\n#Specifies two random kernel's full
      load in the node\n## using SSH channel \nblade create k8s node-cpu load --cpu-percent
      60 --cpu-count 2 --channel ssh --ssh-host 192.168.1.100 --ssh-user root\n##
      using DaemonSet\nblade create k8s node-cpu load --cpu-percent 60 --cpu-count
      2 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30\n\n#
      Specifies that the kernel is full load with index 0, 3, and that the kernel's
      index starts at 0\n## using SSH channel \nblade create k8s node-cpu load --cpu-list
      0,3 --channel ssh --ssh-host 192.168.1.100 --ssh-user root\n## using DaemonSet\nblade
      create k8s node-cpu load --cpu-list 0,3 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig
      ~/.kube/config --timeout 30\n\n# Specify the kernel full load of indexes 1-3\n##
      using SSH channel\nblade create k8s node-cpu load --cpu-list 1-3 --channel ssh
      --ssh-host 192.168.1.100 --ssh-user root\n## using DaemonSet\nblade create k8s
      node-cpu load --cpu-list 1-3 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config
      --timeout 30\n\n# Specified percentage load in the node\n## using SSH channel\nblade
      create k8s node-cpu load --cpu-percent 60 --channel ssh --ssh-host 192.168.1.100
      --ssh-user root\n## using DaemonSet\nblade create k8s node-cpu load --cpu-percent
      60 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30"
    programs:
    - chaos_burncpu
    categories:
    - system_cpu
  scope: node
- target: network
  shortDesc: Network experiment
  longDesc: Network experiment
  actions:
  - action: delay
    shortDesc: Delay experiment
    longDesc: |2
       The network delay experiment scenario for k8s node.
      !!! Using DaemonSet may result in failure to use the kubernetes API for destroy experiment.
      !!! Please use caution, add a timeout parameter for automatic destroy, or use the SSH channel.
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: Delay time, ms
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: Delay offset time, ms
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to native 8080 and 8081 ports is delayed by 3 seconds, and the delay time fluctuates by 1 second
      ## using SSH channel
      blade create k8s node-network delay --time 3000 --offset 1000 --interface eth0 --local-port 8080,8081 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network delay --time 3000 --offset 1000 --interface eth0 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Local access to external 14.215.177.39 machine (ping www.baidu.com obtained IP) port 80 delay of 3 seconds
      ## using SSH channel
      blade create k8s node-network delay --time 3000 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network delay --time 3000 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Do a 5 second delay for the entire network card eth0, excluding ports 22 and 8000 to 8080
      ## using SSH channel
      blade create k8s node-network delay --time 5000 --interface eth0 --exclude-port 22,8000-8080 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network delay --time 5000 --interface eth0 --exclude-port 22,8000-8080 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: drop
    shortDesc: Drop experiment
    longDesc: |-
      !!! Using DaemonSet may result in failure to use the kubernetes API for destroy experiment.
      !!! Please use caution, add a timeout parameter for automatic destroy, or use the SSH channel.
    matchers:
    - name: source-ip
      desc: The source ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: The destination ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: source-port
      desc: The source port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-port
      desc: The destination port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: string-pattern
      desc: The string that is contained in the packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: network-traffic
      desc: The direction of network traffic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Experimental scenario of network shielding
      ## using SSH channel
      blade create k8s node-network drop --source-port 80 --network-traffic in --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network drop --source-port 80 --network-traffic in --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_dropnetwork
    categories:
    - system_network
  - action: dns
    shortDesc: Dns experiment
    longDesc: |2-

      !!! Using DaemonSet may result in failure to use the kubernetes API for destroy experiment.
      !!! Please use caution, add a timeout parameter for automatic destroy, or use the SSH channel.
    flags:
    - name: domain
      desc: Domain name
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: ip
      desc: Domain ip
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The domain name www.baidu.com is not accessible
      ## using SSH channel
      blade create k8s node-network dns --domain www.baidu.com --ip 10.0.0.0 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network dns --domain www.baidu.com --ip 10.0.0.0 --channel ssh --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: loss
    shortDesc: Loss network package
    longDesc: |2-

      !!! Using DaemonSet may result in failure to use the kubernetes API for destroy experiment.
      !!! Please use caution, add a timeout parameter for automatic destroy, or use the SSH channel.
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: loss percent, [0, 100]
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to native 8080 and 8081 ports lost 70% of packets
      ## using SSH channel
      blade create k8s node-network loss --percent 70 --interface eth0 --local-port 8080,8081 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network loss --percent 70 --interface eth0 --local-port 8080,8081 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      ## using SSH channel
      blade create k8s node-network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Do 60% packet loss for the entire network card Eth0, excluding ports 22 and 8000 to 8080
      ## using SSH channel
      blade create k8s node-network loss --percent 60 --interface eth0 --exclude-port 22,8000-8080 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network loss --percent 60 --interface eth0 --exclude-port 22,8000-8080 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Realize the whole network card is not accessible, not accessible time 20 seconds. After executing the following command, the current network is disconnected and restored in 20 seconds. Remember!! Don't forget -timeout parameter
      ## using SSH channel
      blade create k8s node-network loss --percent 100 --interface eth0 --timeout 20 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network loss --percent 100 --interface eth0 --timeout 20 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: duplicate
    shortDesc: Duplicate experiment
    longDesc: |2-

      !!! Using DaemonSet may result in failure to use the kubernetes API for destroy experiment.
      !!! Please use caution, add a timeout parameter for automatic destroy, or use the SSH channel.
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Duplication percent, must be positive integer without %, for example,
        --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Specify the network card eth0 and repeat the packet by 10%
      ## using SSH channel
      blade create k8s node-network duplicate --percent=10 --interface=eth0 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network duplicate --percent=10 --interface=eth0 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: corrupt
    shortDesc: Corrupt experiment
    longDesc: |2-

      !!! Using DaemonSet may result in failure to use the kubernetes API for destroy experiment.
      !!! Please use caution, add a timeout parameter for automatic destroy, or use the SSH channel.
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Corruption percent, must be positive integer without %, for example, --percent
        50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to the specified IP request packet is corrupted, 80% of the time
      ## using SSH channel
      blade create k8s node-network corrupt --percent 80 --destination-ip 180.101.49.12 --interface eth0 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network corrupt --percent 80 --destination-ip 180.101.49.12 --interface eth0 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: reorder
    shortDesc: Reorder experiment
    longDesc: |2-

      !!! Using DaemonSet may result in failure to use the kubernetes API for destroy experiment.
      !!! Please use caution, add a timeout parameter for automatic destroy, or use the SSH channel.
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Packets are sent immediately percentage, must be positive integer without
        %, for example, --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: correlation
      desc: Correlation on previous packet, value is between 0 and 100
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: gap
      desc: Packet gap, must be positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: time
      desc: Delay time, must be positive integer, unit is millisecond, default value
        is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access the specified IP request packet disorder
      ## using SSH channel
      blade create k8s node-network reorder --correlation 80 --percent 50 --gap 2 --time 500 --interface eth0 --destination-ip 180.101.49.12 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network reorder --correlation 80 --percent 50 --gap 2 --time 500 --interface eth0 --destination-ip 180.101.49.12 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: occupy
    shortDesc: Occupy the specify port
    longDesc: |2-

      !!! Using DaemonSet may result in failure to use the kubernetes API for destroy experiment.
      !!! Please use caution, add a timeout parameter for automatic destroy, or use the SSH channel.
    matchers:
    - name: port
      desc: The port occupied
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: Force kill the process which is using the port
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      #Specify port 8080 occupancy
      ## using SSH channel
      blade create k8s node-network occupy --port 8080 --force --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network occupy --port 8080 --force --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      ## using SSH channel
      blade create k8s node-network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  scope: node
- target: process
  shortDesc: Process experiment
  longDesc: Process experiment, for example, kill process
  actions:
  - action: kill
    aliases: [k]
    shortDesc: Kill process
    longDesc: The process scenario in container is the same as the basic resource
      process scenario
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: count
      desc: Limit count, 0 means unlimited
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: local-port
      desc: 'Local service ports. Separate multiple ports with commas (,) or connector
        representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: signal
      desc: Killing process signal, such as 9,15
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-process
      desc: Exclude process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Kill the nginx process in the node
      ## using SSH channel
      blade create k8s node-process kill --process nginx --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-process kill --process nginx --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Specifies the signal and local port to kill the process in the node
      ## using SSH channel
      blade create k8s node-process kill --local-port 8080 --signal 15 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-process kill --local-port 8080 --signal 15 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_killprocess
    categories:
    - system_process
  - action: stop
    aliases: [f]
    shortDesc: process fake death
    longDesc: The process scenario in container is the same as the basic resource
      process scenario
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Pause the process that contains the "nginx" keyword in the node
      ## using SSH channel
      blade create k8s node-process stop --process nginx --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-process stop --process nginx --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Pause the Java process in the node
      ## using SSH channel
      blade create k8s node-process stop --process-cmd java --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-process stop --process-cmd java --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_stopprocess
    categories:
    - system_process
  scope: node
- target: disk
  shortDesc: Disk experiment
  longDesc: Disk experiment contains fill disk or burn io
  actions:
  - action: fill
    shortDesc: Fill the specified directory path
    longDesc: The disk fill scenario experiment in the node
    matchers:
    - name: path
      desc: The path of directory where the disk is populated, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Disk fill size, unit is MB. The value is a positive integer without unit,
        for example, --size 1024
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: percent
      desc: Total percentage of disk occupied by the specified path. If size and the
        flag exist, use this flag first. The value must be positive integer without
        %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: 'Disk reserve size, unit is MB. The value is a positive integer without
        unit. If size, percent and reserve flags exist, the priority is as follows:
        percent > reserve > size'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: retain-handle
      desc: Whether to retain the big file handle, default value is false.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Fill the /home directory with 40G of disk space in the node
      ## using SSH channel
      blade create k8s node-disk fill --path /home --size 40000 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-disk fill --path /home --size 40000 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Fill the /home directory with 80% of the disk space in the node and retains the file handle that populates the disk
      ## using SSH channel
      blade create k8s node-disk fill --path /home --percent 80 --retain-handle --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-disk fill --path /home --percent 80 --retain-handle --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Perform a fixed-size experimental scenario in the node
      ## using SSH channel
      blade c k8s node-disk fill --path /home --reserve 1024 --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade c k8s node-disk fill --path /home --reserve 1024 --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_filldisk
    categories:
    - system_disk
  - action: burn
    shortDesc: Increase disk read and write io load
    longDesc: Disk read and write IO load experiment in the node
    matchers:
    - name: read
      desc: Burn io by read, it will create a 600M for reading and delete it when
        destroy it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: write
      desc: Burn io by write, it will create a file by value of the size flag, for
        example the size default value is 10, then it will create a 10M*100=1000M
        file for writing, and delete it when destroy
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Block size, MB, default is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: path
      desc: The path of directory where the disk is burning, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: channel
      desc: Select the channel for execution, and you can now select SSH
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-host
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-port
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-user
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key
      desc: Use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ssh-key-passphrase
      desc: Use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: blade-release
      desc: Blade release package，use this flag when the channel is ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: override-blade-release
      desc: Override blade release，use this flag when the channel is ssh
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: install-path
      desc: install path default /opt/chaosblade，use this flag when the channel is
        ssh
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The data of rkB/s, wkB/s and % Util were mainly observed. Perform disk read IO high-load scenarios
      ## using SSH channel
      blade create k8s node-disk burn --read --path /home --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-disk burn --read --path /home --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Perform disk write IO high-load scenarios
      ## using SSH channel
      blade create k8s node-disk burn --write --path /home --channel ssh --ssh-host 192.168.1.100 --ssh-user root8
      ## using DaemonSet
      blade create k8s node-disk burn --write --path /home --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30

      # Read and write IO load scenarios are performed at the same time. Path is not specified. The default is
      ## using SSH channel
      blade create k8s node-disk burn --read --write --channel ssh --ssh-host 192.168.1.100 --ssh-user root
      ## using DaemonSet
      blade create k8s node-disk burn --read --write --names izbp1a4jchbdwkwi5hk7ekz --kubeconfig ~/.kube/config --timeout 30
    programs:
    - chaos_burnio
    categories:
    - system_disk
  scope: node
- target: cpu
  shortDesc: Cpu experiment
  longDesc: Cpu experiment, for example full load
  actions:
  - action: fullload
    aliases: [fl, load]
    shortDesc: cpu load
    longDesc: Create chaos engineering experiments with CPU load
    flags:
    - name: cpu-count
      desc: Cpu count
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-list
      desc: CPUs in which to allow burning (0-3 or 1,3)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-percent
      desc: percent of burn CPU (0-100)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: climb-time
      desc: durations(s) to climb
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Create a CPU full load experiment
      blade create k8s pod-cpu load --names nginx-app --kubeconfig ~/.kube/config --namespace default

      #Specifies two random kernel's full load
      blade create k8s pod-cpu load --names nginx-app --kubeconfig ~/.kube/config --namespace default --cpu-percent 60 --cpu-count 2

      # Specifies that the kernel is full load with index 0, 3, and that the kernel's index starts at 0
      blade create k8s pod-cpu load --names nginx-app --kubeconfig ~/.kube/config --namespace default --cpu-list 0,3

      # Specify the kernel full load of indexes 1-3
      blade create k8s pod-cpu load --names nginx-app --kubeconfig ~/.kube/config --namespace default --cpu-list 1-3

      # Specified percentage load
      blade create k8s pod-cpu load --names nginx-app --kubeconfig ~/.kube/config --namespace default --cpu-percent 60
    programs:
    - chaos_burncpu
    categories:
    - system_cpu
  scope: pod
- target: network
  shortDesc: Network experiment
  longDesc: Network experiment
  actions:
  - action: delay
    shortDesc: Delay experiment
    longDesc: Delay experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: Delay time, ms
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: Delay offset time, ms
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to native 8080 and 8081 ports is delayed by 3 seconds, and the delay time fluctuates by 1 second
      blade create k8s pod-network delay --time 3000 --offset 1000 --interface eth0 --local-port 8080,8081 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Local access to external 14.215.177.39 machine (ping www.baidu.com obtained IP) port 80 delay of 3 seconds
      blade create k8s pod-network delay --time 3000 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Do a 5 second delay for the entire network card eth0, excluding ports 22 and 8000 to 8080
      blade create k8s pod-network delay --time 5000 --interface eth0 --exclude-port 22,8000-8080 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: drop
    shortDesc: Drop experiment
    longDesc: Drop network data
    matchers:
    - name: source-ip
      desc: The source ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: The destination ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: source-port
      desc: The source port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-port
      desc: The destination port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: string-pattern
      desc: The string that is contained in the packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: network-traffic
      desc: The direction of network traffic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Experimental scenario of network shielding
      blade create k8s pod-network drop --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_dropnetwork
    categories:
    - system_network
  - action: dns
    shortDesc: Dns experiment
    longDesc: Dns experiment
    flags:
    - name: domain
      desc: Domain name
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: ip
      desc: Domain ip
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The domain name www.baidu.com is not accessible
      blade create k8s pod-network dns --domain www.baidu.com --ip 10.0.0.0 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: loss
    shortDesc: Loss network package
    longDesc: Loss network package
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: loss percent, [0, 100]
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to native 8080 and 8081 ports lost 70% of packets
      blade create k8s pod-network loss --percent 70 --interface eth0 --local-port 8080,8081 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      blade create k8s pod-network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Do 60% packet loss for the entire network card Eth0, excluding ports 22 and 8000 to 8080
      blade create k8s pod-network loss --percent 60 --interface eth0 --exclude-port 22,8000-8080 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Realize the whole network card is not accessible, not accessible time 20 seconds. After executing the following command, the current network is disconnected and restored in 20 seconds. Remember!! Don't forget -timeout parameter
      blade create k8s pod-network loss --percent 100 --interface eth0 --timeout 20 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: duplicate
    shortDesc: Duplicate experiment
    longDesc: Duplicate experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Duplication percent, must be positive integer without %, for example,
        --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Specify the network card eth0 and repeat the packet by 10%
      blade create k8s pod-network duplicate --percent=10 --interface=eth0 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: corrupt
    shortDesc: Corrupt experiment
    longDesc: Corrupt experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Corruption percent, must be positive integer without %, for example, --percent
        50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to the specified IP request packet is corrupted, 80% of the time
      blade create k8s pod-network corrupt --percent 80 --destination-ip 180.101.49.12 --interface eth0 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: reorder
    shortDesc: Reorder experiment
    longDesc: Reorder experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Packets are sent immediately percentage, must be positive integer without
        %, for example, --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: correlation
      desc: Correlation on previous packet, value is between 0 and 100
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: gap
      desc: Packet gap, must be positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: time
      desc: Delay time, must be positive integer, unit is millisecond, default value
        is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access the specified IP request packet disorder
      blade create k8s pod-network reorder --correlation 80 --percent 50 --gap 2 --time 500 --interface eth0 --destination-ip 180.101.49.12 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: occupy
    shortDesc: Occupy the specify port
    longDesc: Occupy the specify port, if the port is used, it will return fail, except
      add --force flag
    matchers:
    - name: port
      desc: The port occupied
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: Force kill the process which is using the port
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      #Specify port 8080 occupancy
      blade create k8s pod-network occupy --port 8080 --force --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      blade create k8s pod-network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  scope: pod
- target: process
  shortDesc: Process experiment
  longDesc: Process experiment, for example, kill process
  actions:
  - action: kill
    aliases: [k]
    shortDesc: Kill process
    longDesc: Kill process by process id or process name
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: count
      desc: Limit count, 0 means unlimited
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: local-port
      desc: 'Local service ports. Separate multiple ports with commas (,) or connector
        representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: signal
      desc: Killing process signal, such as 9,15
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-process
      desc: Exclude process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Kill the process that contains the SimpleHTTPServer keyword
      blade create k8s pod-process kill --names nginx-app --kubeconfig ~/.kube/config --namespace default --process SimpleHTTPServer

      # Kill the Java process
      blade create k8s pod-process kill --names nginx-app --kubeconfig ~/.kube/config --namespace default --process-cmd java

      # Specifies the semaphore and local port to kill the process
      blade c k8s pod-process kill --names nginx-app --kubeconfig ~/.kube/config --namespace default --local-port 8080 --signal 15

      # Return success even if the process not found
      blade c k8s pod-process kill --names nginx-app --kubeconfig ~/.kube/config --namespace default --process demo --ignore-not-found
    programs:
    - chaos_killprocess
    categories:
    - system_process
  - action: stop
    aliases: [f]
    shortDesc: process fake death
    longDesc: process fake death by process id or process name
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Pause the process that contains the "SimpleHTTPServer" keyword
      blade create k8s pod-process stop --names nginx-app --kubeconfig ~/.kube/config --namespace default --process SimpleHTTPServer

      # Pause the Java process
      blade create k8s pod-process stop --names nginx-app --kubeconfig ~/.kube/config --namespace default --process-cmd java

      # Return success even if the process not found
      blade create k8s pod-process stop --names nginx-app --kubeconfig ~/.kube/config --namespace default --process demo --ignore-not-found
    programs:
    - chaos_stopprocess
    categories:
    - system_process
  scope: pod
- target: disk
  shortDesc: Disk experiment
  longDesc: Disk experiment contains fill disk or burn io
  actions:
  - action: fill
    shortDesc: Fill the specified directory path
    longDesc: The disk fill scenario experiment in the pod
    matchers:
    - name: path
      desc: The path of directory where the disk is populated, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Disk fill size, unit is MB. The value is a positive integer without unit,
        for example, --size 1024
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: percent
      desc: Total percentage of disk occupied by the specified path. If size and the
        flag exist, use this flag first. The value must be positive integer without
        %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: 'Disk reserve size, unit is MB. The value is a positive integer without
        unit. If size, percent and reserve flags exist, the priority is as follows:
        percent > reserve > size'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: retain-handle
      desc: Whether to retain the big file handle, default value is false.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Fill the /home directory with 40G of disk space in the pod
      blade create k8s pod-disk fill --path /home --size 40000 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Fill the /home directory with 80% of the disk space in the pod and retains the file handle that populates the disk
      blade create k8s pod-disk fill --path /home --percent 80 --retain-handle --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Perform a fixed-size experimental scenario in the pod
      blade c k8s pod-disk fill --path /home --reserve 1024 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_filldisk
    categories:
    - system_disk
  - action: burn
    shortDesc: Increase disk read and write io load
    longDesc: Disk read and write IO load experiment in the pod
    matchers:
    - name: read
      desc: Burn io by read, it will create a 600M for reading and delete it when
        destroy it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: write
      desc: Burn io by write, it will create a file by value of the size flag, for
        example the size default value is 10, then it will create a 10M*100=1000M
        file for writing, and delete it when destroy
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Block size, MB, default is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: path
      desc: The path of directory where the disk is burning, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The data of rkB/s, wkB/s and % Util were mainly observed. Perform disk read IO high-load scenarios
      blade create k8s pod-disk burn --read --path /home --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Perform disk write IO high-load scenarios
      blade create k8s pod-disk burn --write --path /home --names nginx-app --kubeconfig ~/.kube/config --namespace default8

      # Read and write IO load scenarios are performed at the same time. Path is not specified. The default is /
      blade create k8s pod-disk burn --read --write --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_burnio
    categories:
    - system_disk
  scope: pod
- target: mem
  shortDesc: Mem experiment
  longDesc: Mem experiment, for example load
  actions:
  - action: load
    shortDesc: mem load
    longDesc: The memory fill experiment scenario in the pod
    flags:
    - name: mem-percent
      desc: percent of burn Memory (0-100), must be a positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: reserve to burn Memory, unit is MB. If the mem-percent flag exist, use
        mem-percent first.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: rate
      desc: burn memory rate, unit is M/S, only support for ram mode.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: mode
      desc: burn memory mode, cache or ram.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: include-buffer-cache
      desc: Ram mode mem-percent is include buffer/cache
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: avoid-being-killed
      desc: Prevent mem-burn process from being killed by oom-killer
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The execution memory footprint is 50%
      blade create k8s pod-mem load --mode ram --mem-percent 50 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # The execution memory footprint is 50%, cache model
      blade create k8s pod-mem load --mode cache --mem-percent 50 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # The execution memory footprint is 50%, usage contains buffer/cache
      blade create k8s pod-mem load --mode ram --mem-percent 50 --include-buffer-cache --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # The execution memory footprint is 50% for 200 seconds
      blade create k8s pod-mem load --mode ram --mem-percent 50 --timeout 200 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # 200M memory is reserved
      blade create k8s pod-mem load --mode ram --reserve 200 --rate 100 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_burnmem
    categories:
    - system_mem
  scope: pod
- target: file
  shortDesc: File experiment
  longDesc: File experiment contains file content append, permission modification
    so on
  actions:
  - action: append
    shortDesc: File content append
    longDesc: 'File content append. '
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: content
      desc: append content
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: count
      desc: the number of append count, must be a positive integer, default 1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: interval
      desc: append interval, must be a positive integer, default 1s
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: escape
      desc: symbols to escape, use --escape, at this --count is invalid
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: append content enable base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file
      blade create k8s pod-file append --filepath=/home/logs/nginx.log --content="HELL WORLD" --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, interval 10 seconds
      blade create k8s pod-file append --filepath=/home/logs/nginx.log --content="HELL WORLD" --interval 10 --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, enable base64 encoding
      blade create k8s pod-file append --filepath=/home/logs/nginx.log --content=SEVMTE8gV09STEQ= --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # mock interface timeout exception
      blade create k8s pod-file append --filepath=/home/logs/nginx.log --content="@{DATE:+%Y-%m-%d %H:%M:%S} ERROR invoke getUser timeout [@{RANDOM:100-200}]ms abc  mock exception" --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_appendfile
    categories:
    - system_file
  - action: chmod
    shortDesc: File permission modification.
    longDesc: File perçmission modification.
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: mark
      desc: --mark 777
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Modify /home/logs/nginx.log file permissions to 777
      blade create k8s pod-file chmod --filepath /home/logs/nginx.log --mark=777 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_chmodfile
    categories:
    - system_file
  - action: add
    shortDesc: File or path add
    longDesc: File or path add
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: directory
      desc: use --directory flag, --filepath is directory
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: content
      desc: --content, add file content
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: --content use base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Create a file named nginx.log in the /home directory
      blade create k8s pod-file add --filepath /home/nginx.log --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Create a file named nginx.log in the /home directory with the contents of HELLO WORLD
      blade create k8s pod-file add --filepath /home/nginx.log --content "HELLO WORLD" --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Create a file named nginx.log in the /temp directory and automatically create directories that don't exist
      blade create k8s pod-file add --filepath /temp/nginx.log --auto-create-dir --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Create a directory named /nginx in the /temp directory and automatically create directories that don't exist
      blade create k8s pod-file add --directory --filepath /temp/nginx --auto-create-dir --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_addfile
    categories:
    - system_file
  - action: delete
    shortDesc: File delete
    longDesc: File delete
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: force
      desc: use --force flag can't be restored
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Delete the file /home/logs/nginx.log
      blade create k8s pod-file delete --filepath /home/logs/nginx.log --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Force delete the file /home/logs/nginx.log unrecoverable
      blade create k8s pod-file delete --filepath /home/logs/nginx.log --force --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_deletefile
    categories:
    - system_file
  - action: move
    shortDesc: File move
    longDesc: File move
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: target
      desc: target folder
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: use --force flag overwrite target file
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Move the file /home/logs/nginx.log to /tmp
      blade create k8s pod-file delete --filepath /home/logs/nginx.log --target /tmp --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Force Move the file /home/logs/nginx.log to /temp
      blade create k8s pod-file delete --filepath /home/logs/nginx.log --target /tmp --force --names nginx-app --kubeconfig ~/.kube/config --namespace default

      # Move the file /home/logs/nginx.log to /temp/ and automatically create directories that don't exist
      blade create k8s pod-file delete --filepath /home/logs/nginx.log --target /temp --auto-create-dir --names nginx-app --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_movefile
    categories:
    - system_file
  scope: pod
- target: script
  shortDesc: Script chaos experiment
  longDesc: Script chaos experiment
  actions:
  - action: delay
    shortDesc: Script executed delay
    longDesc: Sleep in script
    flags:
    - name: time
      desc: sleep time, unit is millisecond
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: file
      desc: Script file full path
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: function-name
      desc: function name in shell
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Add commands to the script "start0() { sleep 10.000000 ...}"
      blade create k8s pod-script delay --time 10000 --file test.sh --function-name start0 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    categories:
    - system_script
  - action: exit
    shortDesc: Exit script
    longDesc: Exit script with specify message and code
    flags:
    - name: exit-code
      desc: Exit code
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exit-message
      desc: Exit message
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: file
      desc: Script file full path
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: function-name
      desc: function name in shell
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Add commands to the script "start0() { echo this-is-error-message; exit 1; ... }"
      blade create k8s pod-script exit --exit-code 1 --exit-message this-is-error-message --file test.sh --function-name start0 --names nginx-app --kubeconfig ~/.kube/config --namespace default
    categories:
    - system_script
  scope: pod
- target: pod
  shortDesc: Pod experiments
  longDesc: Pod experiments
  actions:
  - action: delete
    shortDesc: Delete pods
    longDesc: Delete pods
    flags:
    - name: random
      desc: Randomly select pod
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Deletes the POD under the specified default namespace that is app=guestbook
      blade create k8s pod-pod delete --labels app=guestbook --namespace default --evict-count 2 --kubeconfig ~/.kube/config
    categories:
    - system_container
  - action: IO
    shortDesc: Pod File System IO Exception
    longDesc: Pod File System IO Exception
    matchers:
    - name: method
      desc: inject methods, only support read and write
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: delay
      desc: file io delay time, ms
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: path
      desc: I/O exception path or file
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: random
      desc: random inject I/O code
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: percent
      desc: I/O error percent [0-100],
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: errno
      desc: I/O error code
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Two types of exceptions were injected for the READ operation, with an exception rate of 60 percent
      blade create k8s pod-pod IO --method read --delay 1000 --path /home --percent 60 --errno 28 --labels "app=test" --namespace default
    categories:
    - system_container
  - action: fail
    shortDesc: Fail pods
    longDesc: Fail pods
    flags:
    - name: ""
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Specify POD exception
      blade create k8s pod-pod fail --labels "app=test" --namespace default
    categories:
    - system_container
  scope: pod
- target: lettuce
  shortDesc: redis client lettuce experiment
  longDesc: redis client lettuce experiment
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Lettuce client delay experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: cmd matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: key matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment on Lettuce `hset key name lina` command
      blade create k8s container-lettuce delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --cmd hset --key name --time 2000

      #Do a delay 2s experiment on Jedis `key name lina` command
      blade create k8s container-lettuce delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --key name --time 2000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Lettuce client throws custom exception experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: cmd matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: key matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception experiment on Lettuce `key name lina` command
      blade create k8s container-lettuce throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --key name
    programs:
    - java
    categories:
    - java_custom
  - action: update
    shortDesc: update action spec
    longDesc: update action spec
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: cmd matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: key matcher
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: value
      desc: value set
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a update value experiment on Lettuce `key name lina` command
      blade create k8s container-lettuce update --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --value "i'm hacker" --key name
    programs:
    - java
    categories:
    - java_data_tamper
  scope: container
- target: network
  shortDesc: Network experiment
  longDesc: Network experiment
  actions:
  - action: delay
    shortDesc: Delay experiment
    longDesc: Delay experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: Delay time, ms
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: Delay offset time, ms
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to native 8080 and 8081 ports is delayed by 3 seconds, and the delay time fluctuates by 1 second
      blade create k8s container-network delay --time 3000 --offset 1000 --interface eth0 --local-port 8080,8081 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Local access to external 14.215.177.39 machine (ping www.baidu.com obtained IP) port 80 delay of 3 seconds
      blade create k8s container-network delay --time 3000 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Do a 5 second delay for the entire network card eth0, excluding ports 22 and 8000 to 8080
      blade create k8s container-network delay --time 5000 --interface eth0 --exclude-port 22,8000-8080 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: drop
    shortDesc: Drop experiment
    longDesc: Drop network data
    matchers:
    - name: source-ip
      desc: The source ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: The destination ip address of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: source-port
      desc: The source port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-port
      desc: The destination port of packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: string-pattern
      desc: The string that is contained in the packet
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: network-traffic
      desc: The direction of network traffic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Experimental scenario of network shielding
      blade create k8s container-network drop --source-port 80 --network-traffic in --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_dropnetwork
    categories:
    - system_network
  - action: dns
    shortDesc: Dns experiment
    longDesc: Dns experiment
    flags:
    - name: domain
      desc: Domain name
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: ip
      desc: Domain ip
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The domain name www.baidu.com is not accessible
      blade create k8s container-network dns --domain www.baidu.com --ip 10.0.0.0 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: loss
    shortDesc: Loss network package
    longDesc: Loss network package
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: loss percent, [0, 100]
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to native 8080 and 8081 ports lost 70% of packets
      blade create k8s container-network loss --percent 70 --interface eth0 --local-port 8080,8081 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      blade create k8s container-network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Do 60% packet loss for the entire network card Eth0, excluding ports 22 and 8000 to 8080
      blade create k8s container-network loss --percent 60 --interface eth0 --exclude-port 22,8000-8080 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Realize the whole network card is not accessible, not accessible time 20 seconds. After executing the following command, the current network is disconnected and restored in 20 seconds. Remember!! Don't forget -timeout parameter
      blade create k8s container-network loss --percent 100 --interface eth0 --timeout 20 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: duplicate
    shortDesc: Duplicate experiment
    longDesc: Duplicate experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Duplication percent, must be positive integer without %, for example,
        --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Specify the network card eth0 and repeat the packet by 10%
      blade create k8s container-network duplicate --percent=10 --interface=eth0 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: corrupt
    shortDesc: Corrupt experiment
    longDesc: Corrupt experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Corruption percent, must be positive integer without %, for example, --percent
        50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access to the specified IP request packet is corrupted, 80% of the time
      blade create k8s container-network corrupt --percent 80 --destination-ip 180.101.49.12 --interface eth0 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: reorder
    shortDesc: Reorder experiment
    longDesc: Reorder experiment
    matchers:
    - name: local-port
      desc: 'Ports for local service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: remote-port
      desc: 'Ports for remote service. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-port
      desc: 'Exclude local ports. Support for configuring multiple ports, separated
        by commas or connector representing ranges, for example: 22,8000. This flag
        is invalid when --local-port or --remote-port is specified'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: destination-ip
      desc: destination ip. Support for using mask to specify the ip range such as
        92.168.1.0/24 or comma separated multiple ips, for example 10.0.0.1,11.0.0.1.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: ignore-peer-port
      desc: ignore excluding all ports communicating with this port, generally used
        when the ss command does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Network interface, for example, eth0
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: exclude-ip
      desc: Exclude ips. Support for using mask to specify the ip range such as 92.168.1.0/24
        or comma separated multiple ips, for example 10.0.0.1,11.0.0.1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: force
      desc: Forcibly overwrites the original rules
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: percent
      desc: Packets are sent immediately percentage, must be positive integer without
        %, for example, --percent 50
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: correlation
      desc: Correlation on previous packet, value is between 0 and 100
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: gap
      desc: Packet gap, must be positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: time
      desc: Delay time, must be positive integer, unit is millisecond, default value
        is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Access the specified IP request packet disorder
      blade create k8s container-network reorder --correlation 80 --percent 50 --gap 2 --time 500 --interface eth0 --destination-ip 180.101.49.12 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  - action: occupy
    shortDesc: Occupy the specify port
    longDesc: Occupy the specify port, if the port is used, it will return fail, except
      add --force flag
    matchers:
    - name: port
      desc: The port occupied
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: Force kill the process which is using the port
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      #Specify port 8080 occupancy
      blade create k8s container-network occupy --port 8080 --force --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # The machine accesses external 14.215.177.39 machine (ping www.baidu.com) 80 port packet loss rate 100%
      blade create k8s container-network loss --percent 100 --interface eth0 --remote-port 80 --destination-ip 14.215.177.39 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_tcnetwork
    categories:
    - system_network
  scope: container
- target: script
  shortDesc: Script chaos experiment
  longDesc: Script chaos experiment
  actions:
  - action: delay
    shortDesc: Script executed delay
    longDesc: Sleep in script
    flags:
    - name: time
      desc: sleep time, unit is millisecond
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: file
      desc: Script file full path
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: function-name
      desc: function name in shell
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Add commands to the script "start0() { sleep 10.000000 ...}"
      blade create k8s pod-script delay --time 10000 --file test.sh --function-name start0 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    categories:
    - system_script
  - action: exit
    shortDesc: Exit script
    longDesc: Exit script with specify message and code
    flags:
    - name: exit-code
      desc: Exit code
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exit-message
      desc: Exit message
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: file
      desc: Script file full path
      noArgs: false
      required: true
      requiredWhenDestroyed: true
    - name: function-name
      desc: function name in shell
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Add commands to the script "start0() { echo this-is-error-message; exit 1; ... }"
      blade create k8s pod-script exit --exit-code 1 --exit-message this-is-error-message --file test.sh --function-name start0 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    categories:
    - system_script
  scope: container
- target: druid
  shortDesc: Experiment with the Druid
  longDesc: Experiment with the Druid database connection pool, For example `blade
    create druid connectionpoolfull`
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: connectionpoolfull
    aliases: [cpf]
    shortDesc: Connection pool full
    longDesc: Connection pool full
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a full load experiment on the Druid database connection pool
      blade create k8s container-druid connectionpoolfull --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - java
    categories:
    - java_resource_cpu
  - action: sql
    shortDesc: sql tamper
    longDesc: sql tamper, tamper update  or insert column value
    matchers:
    - name: sqltype
      desc: sql type
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: application
      desc: application(schema) name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: table name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: after
      desc: column after value
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: before
      desc: column before value
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: column
      desc: column name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: where_rule
      desc: where rule
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: type
      desc: column change type, for example, num_add, num_sub
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: offset
      desc: column type is number, number offset
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_data_tamper
  scope: container
- target: jedis
  shortDesc: jedis experiment
  longDesc: jedis experiment contains delay and exception by command and so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Jedis commands delay experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: The cmd type, for example, set, hget,zadd and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: The key which command used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment on Jedis `hset key name lina` command
      blade create k8s container-jedis delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --cmd hset --key name --time 2000

      #Do a delay 2s experiment on Jedis `key name lina` command
      blade create k8s container-jedis delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --key name --time 2000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Jedis commands throws custom exception experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: The cmd type, for example, set, hget,zadd and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: The key which command used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception experiment on Jedis `key name lina` command
      blade create k8s container-jedis throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --key name
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: tars
  shortDesc: tars experiment
  longDesc: Tars experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Tars delay experiment
    matchers:
    - name: servant
      desc: to tag servant role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: functionname
      desc: The name of function to be invoked
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: client
      desc: to tag the client role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: servantname
      desc: The name of servant
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 3s experiment on tars interface
      blade create k8s container-tars delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 3000 --client --servantname app.server.obj --functionname hello
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Tars throws custom exception experiment
    matchers:
    - name: servant
      desc: to tag servant role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: functionname
      desc: The name of function to be invoked
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: client
      desc: to tag the client role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: servantname
      desc: The name of servant
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throw custom exception experiment on tars interface
      blade c k8s container-tars throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception org.springframework.beans.BeansException --exception-message mock-beans-exception --client --servantname=app.server.obj
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: cpu
  shortDesc: Cpu experiment
  longDesc: Cpu experiment, for example full load
  actions:
  - action: fullload
    aliases: [fl, load]
    shortDesc: cpu load
    longDesc: The CPU load experiment scenario in container is the same as the CPU
      scenario of basic resources
    flags:
    - name: cpu-count
      desc: Cpu count
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-list
      desc: CPUs in which to allow burning (0-3 or 1,3)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cpu-percent
      desc: percent of burn CPU (0-100)
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: climb-time
      desc: durations(s) to climb
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Create a CPU full load experiment in the container
      blade create k8s container-cpu load --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      #Specifies two random kernel's full load in the container
      blade create k8s container-cpu load --cpu-percent 60 --cpu-count 2 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Specifies that the kernel is full load with index 0, 3, and that the kernel's index starts at 0
      blade create k8s container-cpu load --cpu-list 0,3 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Specify the kernel full load of indexes 1-3
      blade create k8s container-cpu load --cpu-list 1-3 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Specified percentage load in the container
      blade create k8s container-cpu load --cpu-percent 60 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_burncpu
    categories:
    - system_cpu
  scope: container
- target: rocketmq
  shortDesc: Rocketmq experiment,can make message send or pull delay and exception
  longDesc: Rocketmq experiment,can make message send or pull delay and exception,default
    if you not set [producerGroup,consumerGroup],will effect both send and pull message,if
    you only set producerGroup for specific group,will only effect on sendMessage,if
    you only set consumerGroup,will only effect pullMessage for specific group
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: RocketMq delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: tags
      desc: Message tags, cant not support consumer!
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producerGroup
      desc: Message producer group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: Message topic
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: consumerGroup
      desc: Message consumer group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: batch-send
      desc: tags support batch-send
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 3s experiment on the RocketMq when topic=xx consumerGroup=xx
      blade create rocketmq --topic=xx --consumerGroup=xx delay --time=3000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: RocketMq throws custom exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: tags
      desc: Message tags, cant not support consumer!
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producerGroup
      desc: Message producer group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: Message topic
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: consumerGroup
      desc: Message consumer group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: batch-send
      desc: tags support batch-send
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throw custom exception experiment on the RocketMq when topic=xx consumerGroup=xx
      blade create k8s container-rocketmq throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --topic=xx --consumerGroup=xx
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: gateway
  shortDesc: gateway experiment!
  longDesc: gateway experiment contains delay and exception
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: SpringCloud Gateway delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestPath
      desc: The gateway path which used
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |+
      # Do a delay 2s experiment for SpringCloud Gateway forward operations
      blade create k8s container-gateway delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --requestPath /gateway/path --time 2000

    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: SpringCloudGateway throws customer exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestPath
      desc: The gateway path which used
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws customer exception experiment for SpringCloud Gateway operations
      blade create k8s container-gateway throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --requestPath /gateway/path
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: servlet
  shortDesc: java servlet experiment
  longDesc: Java servlet experiment, support path, query string, request method matcher
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Servlet delay experiment, support servlet springMVC webX
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: method
      desc: The name of the HTTP method with which this request was made, for example,
        GET, POST, or PUT.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath-regex-pattern
      desc: regex match RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring
      desc: The query string that is contained in the request URL after the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring-regex-pattern
      desc: regex match the query string that is contained in the request URL after
        the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath
      desc: equal RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Request to http://localhost:8080/dubbodemo/servlet/path?name=bob delays 3s, effect two requests
      blade c k8s container-servlet delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 3000 --requestpath /dubbodemo/servlet/path --effect-count 2

      # The request parameter is name=family, the delay is 2 seconds, the delay time floats up and down for 1 second, the impact range is 50% of the request, and the debug log is turned on to troubleshoot the problem
      blade c k8s container-servlet delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 2000 --offset 1000 --querystring name=family --effect-percent 50 --debug
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Servlet throw custom exception experiment, support servlet springMVC
      webX
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: method
      desc: The name of the HTTP method with which this request was made, for example,
        GET, POST, or PUT.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath-regex-pattern
      desc: regex match RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring
      desc: The query string that is contained in the request URL after the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring-regex-pattern
      desc: regex match the query string that is contained in the request URL after
        the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath
      desc: equal RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Request to http://localhost:8080/dubbodemo/hello throws custom exception, effect three requests
      blade c k8s container-servlet throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception org.springframework.beans.BeansException --exception-message mock-beans-exception --requestpath /hello --effect-count 3
    programs:
    - java
    categories:
    - java_custom
  - action: modifyCode
    aliases: [mc]
    shortDesc: update action spec
    longDesc: update action spec
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: method
      desc: The name of the HTTP method with which this request was made, for example,
        GET, POST, or PUT.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath-regex-pattern
      desc: regex match RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring
      desc: The query string that is contained in the request URL after the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: querystring-regex-pattern
      desc: regex match the query string that is contained in the request URL after
        the path.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: requestpath
      desc: equal RequestUri without ContextPath
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: code
      desc: http code
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |+
      # Request to http://localhost:8080/dubbodemo/servlet/path?name=bob return 404
      blade c servlet mc --requestpath /dubbodemo/servlet/path --code=404

    programs:
    - java
    categories:
    - java_data_tamper
  scope: container
- target: hsf
  shortDesc: Hsf experiment
  longDesc: Hsf experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: threadpoolfull
    aliases: [tpf]
    shortDesc: Thread pool full
    longDesc: Thread pool full
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_resource_cpu
  - action: return
    shortDesc: edit hsf return value
    longDesc: edit hsf return value
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: script-file
      desc: The Script file full path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-type
      desc: The script file type, java or groovy, default value is java
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-content
      desc: The script contents
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-name
      desc: The script name for label, unnecessary
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_data_tamper
  scope: container
- target: redisson
  shortDesc: redisson experiment
  longDesc: redisson experiment contains delay and exception by command and so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Redisson commands delay experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: The cmd type, for example, set, hget,zadd and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: The key which command used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment on Redisson `hset key name lina` command
      blade create k8s container-redisson delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --cmd hset --key name --time 2000

      #Do a delay 2s experiment on Redisson `key name lina` command
      blade create k8s container-redisson delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --key name --time 2000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Redisson commands throws custom exception experiments
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: cmd
      desc: The cmd type, for example, set, hget,zadd and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: key
      desc: The key which command used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception experiment on Redisson `key name lina` command
      blade create k8s container-redisson throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --key name
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: process
  shortDesc: Process experiment
  longDesc: Process experiment, for example, kill process
  actions:
  - action: kill
    aliases: [k]
    shortDesc: Kill process
    longDesc: The process scenario in container is the same as the basic resource
      process scenario
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: count
      desc: Limit count, 0 means unlimited
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: local-port
      desc: 'Local service ports. Separate multiple ports with commas (,) or connector
        representing ranges, for example: 80,8000-8080'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: signal
      desc: Killing process signal, such as 9,15
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exclude-process
      desc: Exclude process
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Kill the nginx process in the container
      blade create k8s container-process kill --process nginx --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Use blade CLI
      # Specifies the signal and local port to kill the process in the container
      blade create k8s container-process kill --local-port 8080 --signal 15 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_killprocess
    categories:
    - system_process
  - action: stop
    aliases: [f]
    shortDesc: process fake death
    longDesc: The process scenario in container is the same as the basic resource
      process scenario
    matchers:
    - name: process
      desc: Process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process-cmd
      desc: Process name in command
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: ignore-not-found
      desc: Ignore process that cannot be found
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2-

      # Pause the process that contains the "nginx" keyword in the container
      blade create k8s container-process stop --process nginx --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Pause the Java process in the container
      blade create k8s container-process stop --process-cmd java --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_stopprocess
    categories:
    - system_process
  scope: container
- target: dubbo
  shortDesc: Experiment with the Dubbo
  longDesc: Dubbo experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Dubbo interface to do delay experiments, support provider and consumer
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: call-point
      desc: the class and method name who send the request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: group
      desc: The service group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Invoke com.alibaba.demo.HelloService.hello() service, do delay 3 seconds experiment
      blade create k8s container-dubbo delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 3000 --service com.alibaba.demo.HelloService --methodname hello --consumer
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Dubbo interface to do throws custom exception experiments, support provider
      and consumer
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: version
      desc: the service version
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: The consumer or provider application name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: call-point
      desc: the class and method name who send the request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: To tag consumer role experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: group
      desc: The service group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Invoke com.alibaba.demo.HelloService.hello() service, do throws customer exception
      blade create k8s container-dubbo throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --service com.alibaba.demo.HelloService --methodname hello --consumer
    programs:
    - java
    categories:
    - java_custom
  - action: threadpoolfull
    aliases: [tpf]
    shortDesc: Thread pool full
    longDesc: Do a full load experiment on the Dubbo provider thread pool
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: provider
      desc: To tag provider experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a full load experiment on the Dubbo provider thread pool
      blade c k8s container-dubbo threadpoolfull --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --provider
    programs:
    - java
    categories:
    - java_resource_cpu
  scope: container
- target: mysql
  shortDesc: mysql experiment
  longDesc: Mysql experiment contains delay and exception by table name and so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Mysql delay experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment for mysql client connection port=3306 INSERT statement
      blade create k8s container-mysql delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 2000 --sqltype select --port 3306
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Mysql throws customer exception experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws customer exception experiment for mysql client connection port=3306 INSERT statement
      blade create k8s container-mysql throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: rabbitmq
  shortDesc: rabbitmq experiment
  longDesc: rabbitmq experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: RabbitMq delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: routingkey
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exchange
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Delay when the producer sends the message
      blade create k8s container-rabbitmq delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 3000 --producer
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: RabbitMq throws custom exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: routingkey
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: exchange
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Throw exception when the producer sends the message
      blade create k8s container-rabbitmq throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --exception-message mock-beans-exception --producer
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: log
  shortDesc: log experiment
  longDesc: log experiment for testing service delay.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Log framework delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: logback
      desc: To tag logback experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Do a delay 1s experiment take effect 100 times
      blade create k8s container-log delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --logback --time 1000 --effect-count 100
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: logback
      desc: To tag logback experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: container
  shortDesc: Execute a docker experiment
  longDesc: Execute a docker experiment. The local host must be installed docker command.
  actions:
  - action: remove
    aliases: [rm]
    shortDesc: remove a container
    longDesc: remove a container
    flags:
    - name: force
      desc: force remove
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Delete the container id that is a76d53933d3f",
      blade create k8s container-container remove --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --container-id a76d53933d3f
    categories:
    - system_container
  scope: container
- target: disk
  shortDesc: Disk experiment
  longDesc: Disk experiment contains fill disk or burn io
  actions:
  - action: fill
    shortDesc: Fill the specified directory path
    longDesc: The disk fill scenario experiment in the container
    matchers:
    - name: path
      desc: The path of directory where the disk is populated, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Disk fill size, unit is MB. The value is a positive integer without unit,
        for example, --size 1024
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: percent
      desc: Total percentage of disk occupied by the specified path. If size and the
        flag exist, use this flag first. The value must be positive integer without
        %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: 'Disk reserve size, unit is MB. The value is a positive integer without
        unit. If size, percent and reserve flags exist, the priority is as follows:
        percent > reserve > size'
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: retain-handle
      desc: Whether to retain the big file handle, default value is false.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |2

      # Fill the /home directory with 40G of disk space in the container
      blade create k8s container-disk fill --path /home --size 40000 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Fill the /home directory with 80% of the disk space in the container and retains the file handle that populates the disk
      blade create k8s container-disk fill --path /home --percent 80 --retain-handle --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Perform a fixed-size experimental scenario in the container
      blade c k8s container-disk fill --path /home --reserve 1024 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_filldisk
    categories:
    - system_disk
  - action: burn
    shortDesc: Increase disk read and write io load
    longDesc: Disk read and write IO load experiment in the container
    matchers:
    - name: read
      desc: Burn io by read, it will create a 600M for reading and delete it when
        destroy it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: write
      desc: Burn io by write, it will create a file by value of the size flag, for
        example the size default value is 10, then it will create a 10M*100=1000M
        file for writing, and delete it when destroy
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: size
      desc: Block size, MB, default is 10
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: path
      desc: The path of directory where the disk is burning, default value is /
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The data of rkB/s, wkB/s and % Util were mainly observed. Perform disk read IO high-load scenarios
      blade create k8s container-disk burn --read --path /home --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Perform disk write IO high-load scenarios
      blade create k8s container-disk burn --write --path /home --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default8

      # Read and write IO load scenarios are performed at the same time. Path is not specified. The default is /
      blade create k8s container-disk burn --read --write --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_burnio
    categories:
    - system_disk
  scope: container
- target: mem
  shortDesc: Mem experiment
  longDesc: Mem experiment, for example load
  actions:
  - action: load
    shortDesc: mem load
    longDesc: The memory fill experiment scenario in container
    flags:
    - name: mem-percent
      desc: percent of burn Memory (0-100), must be a positive integer
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: reserve
      desc: reserve to burn Memory, unit is MB. If the mem-percent flag exist, use
        mem-percent first.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: rate
      desc: burn memory rate, unit is M/S, only support for ram mode.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: mode
      desc: burn memory mode, cache or ram.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: include-buffer-cache
      desc: Ram mode mem-percent is include buffer/cache
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: avoid-being-killed
      desc: Prevent mem-burn process from being killed by oom-killer
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The execution memory footprint is 50%
      blade create k8s container-mem load --mode ram --mem-percent 50 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # The execution memory footprint is 50%, cache model
      blade create k8s container-mem load --mode cache --mem-percent 50 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # The execution memory footprint is 50%, usage contains buffer/cache
      blade create k8s container-mem load --mode ram --mem-percent 50 --include-buffer-cache --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # The execution memory footprint is 50% for 200 seconds
      blade create k8s container-mem load --mode ram --mem-percent 50 --timeout 200 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # 200M memory is reserved
      blade create k8s container-mem load --mode ram --reserve 200 --rate 100 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_burnmem
    categories:
    - system_mem
  scope: container
- target: file
  shortDesc: File experiment
  longDesc: File experiment contains file content append, permission modification
    so on
  actions:
  - action: append
    shortDesc: File content append
    longDesc: 'File content append. '
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: content
      desc: append content
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: count
      desc: the number of append count, must be a positive integer, default 1
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: interval
      desc: append interval, must be a positive integer, default 1s
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: escape
      desc: symbols to escape, use --escape, at this --count is invalid
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: append content enable base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file
      blade create k8s container-file append --filepath=/home/logs/nginx.log --content="HELL WORLD" --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, interval 10 seconds
      blade create k8s container-file append --filepath=/home/logs/nginx.log --content="HELL WORLD" --interval 10 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Appends the content "HELLO WORLD" to the /home/logs/nginx.log file, enable base64 encoding
      blade create k8s container-file append --filepath=/home/logs/nginx.log --content=SEVMTE8gV09STEQ= --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # mock interface timeout exception
      blade create k8s container-file append --filepath=/home/logs/nginx.log --content="@{DATE:+%Y-%m-%d %H:%M:%S} ERROR invoke getUser timeout [@{RANDOM:100-200}]ms abc  mock exception" --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_appendfile
    categories:
    - system_file
  - action: chmod
    shortDesc: File permission modification.
    longDesc: File perçmission modification.
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: mark
      desc: --mark 777
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Modify /home/logs/nginx.log file permissions to 777
      blade create k8s container-file chmod --filepath /home/logs/nginx.log --mark=777 --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_chmodfile
    categories:
    - system_file
  - action: add
    shortDesc: File or path add
    longDesc: File or path add
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: directory
      desc: use --directory flag, --filepath is directory
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: content
      desc: --content, add file content
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: enable-base64
      desc: --content use base64 encoding
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Create a file named nginx.log in the /home directory
      blade create k8s container-file add --filepath /home/nginx.log --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Create a file named nginx.log in the /home directory with the contents of HELLO WORLD
      blade create k8s container-file add --filepath /home/nginx.log --content "HELLO WORLD" --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Create a file named nginx.log in the /temp directory and automatically create directories that don't exist
      blade create k8s container-file add --filepath /temp/nginx.log --auto-create-dir --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Create a directory named /nginx in the /temp directory and automatically create directories that don't exist
      blade create k8s container-file add --directory --filepath /temp/nginx --auto-create-dir --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_addfile
    categories:
    - system_file
  - action: delete
    shortDesc: File delete
    longDesc: File delete
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: force
      desc: use --force flag can't be restored
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Delete the file /home/logs/nginx.log
      blade create k8s container-file delete --filepath /home/logs/nginx.log --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Force delete the file /home/logs/nginx.log unrecoverable
      blade create k8s container-file delete --filepath /home/logs/nginx.log --force --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_deletefile
    categories:
    - system_file
  - action: move
    shortDesc: File move
    longDesc: File move
    matchers:
    - name: filepath
      desc: file path
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: target
      desc: target folder
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: force
      desc: use --force flag overwrite target file
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: auto-create-dir
      desc: automatically creates a directory that does not exist
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: whether to create asynchronously, default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |
      # Move the file /home/logs/nginx.log to /tmp
      blade create k8s container-file delete --filepath /home/logs/nginx.log --target /tmp --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Force Move the file /home/logs/nginx.log to /temp
      blade create k8s container-file delete --filepath /home/logs/nginx.log --target /tmp --force --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default

      # Move the file /home/logs/nginx.log to /temp/ and automatically create directories that don't exist
      blade create k8s container-file delete --filepath /home/logs/nginx.log --target /temp --auto-create-dir --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default
    programs:
    - chaos_movefile
    categories:
    - system_file
  scope: container
- target: notify
  shortDesc: notify send or receive message error
  longDesc: ""
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: notifyTopic
      desc: notify topic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyMessageType
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyGroupId
      desc: notify group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyOperation
      desc: operation,the value:producer or consumer
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: notifyTopic
      desc: notify topic
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyMessageType
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyGroupId
      desc: notify group
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: notifyOperation
      desc: operation,the value:producer or consumer
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: mongodb
  shortDesc: MongoDB experiment
  longDesc: MongoDB experiment contains delay and exception by Collection name and
    so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: MongoDB delay experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, insert, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: collection
      desc: The first collection name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment for mongodb client insert operations
      blade create k8s container-mongodb delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 2000 --sqltype insert
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: MongoDB throws customer exception experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, insert, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: collection
      desc: The first collection name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws customer exception experiment for mongodb client insert operations
      blade create k8s container-mongodb throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --sqltype insert
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: psql
  shortDesc: Postgrelsql experiment
  longDesc: Postgrelsql experiment contains delay and exception by table name and
    so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Postgrelsql delay experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment for Postgrelsql client INSERT statement
      blade create k8s container-psql delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --sqltype insert --time 4000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Postgrelsql throws custom exception experiment
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: database
      desc: The database name which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: port
      desc: The database port which used
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception experiment for Postgrelsql client INSERT statement
      blade create k8s container-psql throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --sqltype insert --exception java.lang.Exception
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: jvm
  shortDesc: Experiment with the JVM
  longDesc: Experiment with the JVM, and you can specify classes, method injection
    delays, return values, exception failure scenarios, or write Groovy and Java scripts
    to implement complex scenarios.
  actions:
  - action: CodeCacheFilling
    aliases: [ccf]
    shortDesc: Fill up code cache.
    longDesc: Filling code cache until JIT compiler turn off.
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Inject code cache full fault
      blade c k8s container-jvm CodeCacheFilling --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --process tomcat
    programs:
    - java
    categories:
    - java_resource_mem
  - action: delay
    shortDesc: delay time
    longDesc: The Java method delays the experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Inject a 4-second delay failure on the sayHello method
      blade create k8s container-jvm delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 4000 --classname=com.example.controller.DubboController --methodname=sayHello
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Inject a custom exception failure on the com.example.controller.DubboController.hello() method, effect the two requests
      blade create k8s container-jvm throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --classname com.example.controller.DubboController --methodname sayHello --effect-count 2
    programs:
    - java
    categories:
    - java_custom
  - action: cpufullload
    aliases: [cfl]
    shortDesc: Process occupied cpu full load
    longDesc: Process occupied cpu full load
    flags:
    - name: cpu-count
      desc: Binding cpu core count
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Specifies full load of all kernel
      blade c jvm cfl --process tomcat

      # Specifies full load of two kernel
      blade c jvm cfl --cpu-count 2 --process tomcat
    programs:
    - java
    categories:
    - java_resource_cpu
  - action: full-gc
    aliases: [fgc]
    shortDesc: JVM full gc
    longDesc: JVM full gc
    flags:
    - name: interval
      desc: Interval between full gc actions
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: total count of full gc actions
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |+
      # Specifies full gc
      blade c jvm fgc --effect-count 100 --interval 1000

    programs:
    - java
    categories:
    - java_resource_mem
  - action: throwDeclaredException
    aliases: [tde]
    shortDesc: Throw the first declared exception of method
    longDesc: Throw the first declared exception of method
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Throw the first declared exception of method, effect the two requests
      blade create k8s container-jvm throwDeclaredException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --classname com.example.controller.DubboController --methodname sayHello --effect-count 2
    programs:
    - java
    categories:
    - java_custom
    - java_exception
  - action: return
    shortDesc: Return the specify value
    longDesc: Return the specify value
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    flags:
    - name: value
      desc: Value returned, only support primitive type value. If you want return
        null, set --value null
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Inject a tamper return value failure on the com.example.controller.DubboController.hello() method
      blade create k8s container-jvm return --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --value hello-chaosblade --classname com.example.controller.DubboController --methodname hello
    programs:
    - java
    categories:
    - java_data_tamper
  - action: script
    shortDesc: Dynamically execute custom scripts
    longDesc: Dynamically execute custom scripts
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: Specify the method after event
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: interface
      desc: Specify interface
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: script-file
      desc: The Script file full path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-type
      desc: The script file type, java or groovy, default value is java
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-content
      desc: The script contents
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: script-name
      desc: The script name for label, unnecessary
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: external-jar
      desc: add external jar file
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: external-jar-path
      desc: add external jar file from path
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Using script-Content to specify walk-through script content, without adding a script-type parameter, it defaults to a Java script and calls the Java engine parser.
      blade c k8s container-jvm script --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --classname com.example.controller.DubboController --methodname call --script-content aW1wb3J0IGphdmEudXRpbC5NYXA7CgppbXBvcnQgY29tLmV4YW1wbGUuY29udHJvbGxlci5DdXN0b21FeGNlcHRpb247CgovKioKICogQGF1dGhvciBDaGFuZ2p1biBYaWFvCiAqLwpwdWJsaWMgY2xhc3MgRXhjZXB0aW9uU2NyaXB0IHsKICAgIHB1YmxpYyBPYmplY3QgcnVuKE1hcDxTdHJpbmcsIE9iamVjdD4gcGFyYW1zKSB0aHJvd3MgQ3VzdG9tRXhjZXB0aW9uIHsKICAgICAgICBwYXJhbXMucHV0KCIxIiwgMTExTCk7CiAgICAgICAgLy9yZXR1cm4gIk1vY2sgVmFsdWUiOwogICAgICAgIC8vdGhyb3cgbmV3IEN1c3RvbUV4Y2VwdGlvbigiaGVsbG8iKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KfQo=  --script-name exception

      # Use the script-file parameter to specify the file experiment
      blade c k8s container-jvm script --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --classname com.example.controller.DubboController --methodname call --script-file /tmp/ExceptionScript.java --script-name exception

      # The groovy script experiment scenario is executed with the same parameters as above, but the --script-type Groovy parameter must be added
      blade c k8s container-jvm script --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --classname com.example.controller.DubboController --methodname call --script-file /tmp/GroovyScript.groovy --script-name exception --script-type groovy

      # Load external jar file
      blade c k8s container-jvm script --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --classname com.example.controller.DubboController --methodname call --external-jar file:/temp/chaosblade-extends.jar --script-content xxx
    programs:
    - java
    categories:
    - java_custom
  - action: RepeatCall
    shortDesc: repeat call java method
    longDesc: ""
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: classname
      desc: The class name with package
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: repeat-count
      desc: repeat-count
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: ignore-exception
      desc: ignore exception when repeat call method,default:false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: concurrent
      desc: repeated call concurrent,default is false
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: threadfull
    aliases: [tfl]
    shortDesc: Specifies that the application thread is soaring
    longDesc: Specifies that the application thread is soaring
    flags:
    - name: thread-count
      desc: thread count
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: running
      desc: To tag threads running experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: wait
      desc: To tag threads wait experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Specifies that the application thread is soaring and the status wait
      blade create k8s container-jvm threadfull --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --wait --thread-count 20

      #Specifies that the application thread is soaring and running status
      blade create k8s container-jvm threadfull --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --running --thread-count 20
    programs:
    - java
    categories:
    - java_resource_cpu
  - action: OutOfMemoryError
    aliases: [oom, outofmemoryerror]
    shortDesc: JVM out of memory
    longDesc: JVM out of memory
    flags:
    - name: area
      desc: Jvm memory area you want to cause OutOfMemoryError,the options:[HEAP,
        NOHEAP, OFFHEAP]
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: wild-mode
      desc: Decide oom happen mode in wild-mode or not,default is false,if true,will
        quickly generate oom error,and the memory  will not release until stop,if
        false,the oom error will not generate at once,and if oom happens frequently,the  memory
        will release each once
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: interval
      desc: Time between to oom error,the time unit is millis,default is 500 ms,only
        used when wilde-mode not true
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: block
      desc: Each block size when fill memory,only used for Heap OffHeap Area,Unit:MB
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # The Heap area is filled with memory.
      blade c jvm oom --area HEAP --wild-mode true

      # The Metaspace area is filled with memory. Note that after executing this experiment, the application needs to be restarted ！！！
      blade c jvm oom --area NOHEAP --wild-mode true
    programs:
    - java
    categories:
    - java_resource_cpu
  scope: container
- target: http
  shortDesc: http experiment
  longDesc: http experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: HTTP client delay experiment
    matchers:
    - name: httpclient4
      desc: To tag httpclient4 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: rest
      desc: To tag restTemplate experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: httpclient3
      desc: To tag httpclient3 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: uri
      desc: url
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: asyncHttpClient
      desc: To tag async-http-client experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: okhttp3
      desc: To tag okhttp3 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: call-point
      desc: the class and method name who send the request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 3s experiment with HTTP request URI = https://www.taobao.com for HttpClient4
      blade create k8s container-http delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --httpclient4 --uri https://www.taobao.com --time 3000

      # Do a delay 3s experiment with HTTP request URI = https://www.taobao.com for HttpClient3
      blade create k8s container-http delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --httpclient3 --uri https://www.taobao.com --time 3000

      # Do a delay 3s experiment with HTTP request URI = https://www.taobao.com for RestTemplate
      blade create k8s container-http delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --rest --uri https://www.taobao.com --time 3000

      #Do a delay 3s experiment with HTTP request URI = https://www.taobao.com for OkHttp3
      blade create k8s container-http delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --okhttp3 --uri https://www.taobao.com --time 3000
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: HTTP client throws custom exception experiment
    matchers:
    - name: httpclient4
      desc: To tag httpclient4 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: rest
      desc: To tag restTemplate experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: httpclient3
      desc: To tag httpclient3 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: uri
      desc: url
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: asyncHttpClient
      desc: To tag async-http-client experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: okhttp3
      desc: To tag okhttp3 experiment.
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: call-point
      desc: the class and method name who send the request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws custom exception with HTTP request URI = https://www.taobao.com/ for HttpClient4
      blade c k8s container-http throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --httpclient4 --exception=java.lang.Exception --exception-message=customException --uri=https://www.taobao.com/
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: hbase
  shortDesc: hbase experiment!
  longDesc: hbase experiment contains delay and exception by table name and so on.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: hbase delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The hbase table which used
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a delay 2s experiment for hbase client connection INSERT statement
      blade create k8s container-hbase delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --table table1
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: hbase throws customer exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The hbase table which used
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Do a throws customer exception experiment for mysql client connection port=3306 INSERT statement
      blade create k8s container-hbase throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --table table2
    programs:
    - java
    categories:
    - java_custom
  scope: container
- target: tddl
  shortDesc: Tddl experiment
  longDesc: Tddl experiment contains delay and exception by table name and so on.
  actions:
  - action: updatecolumnchange
    aliases: [ucc]
    shortDesc: change sql update column value
    longDesc: change sql update column value
    matchers:
    - name: sqltype
      desc: The sql type, for example, insert, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: column
      desc: column name
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The table name in sql
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: type
      desc: column change type, for example, num_add
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: before
      desc: column before value
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: after
      desc: column after value
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: where_rule
      desc: where rule
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: num_offset
      desc: num_offset
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_data_tamper
  - action: delay
    shortDesc: delay time
    longDesc: delay time...
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: Application name of the tddl
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Throw custom exception with --exception option
    matchers:
    - name: sqltype
      desc: The sql type, for example, select, update and so on.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: Application name of the tddl
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: host
      desc: The database host
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: table
      desc: The first table name in sql.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_custom
  - action: connectionpoolfull
    aliases: [cpf]
    shortDesc: Connection pool full
    longDesc: Connection pool full
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: appname
      desc: Application name of the tddl
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_resource_cpu
  scope: container
- target: sentinel
  shortDesc: Sentinel experiment
  longDesc: Sentinel experiment for testing sentinel exception.
  actions:
  - action: flow
    shortDesc: throw flow exception
    longDesc: Throw flow exception with --provider option
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: invoketype
      desc: 'The invoke type, valid values : hsf'
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: service
      desc: The service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: methodname
      desc: The method name in service interface
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: provider
      desc: To tag provider role experiment
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: ""
    programs:
    - java
    categories:
    - java_exception
  scope: container
- target: kafka
  shortDesc: kafka experiment
  longDesc: kafka experiment for testing service delay and exception.
  actions:
  - action: delay
    shortDesc: delay time
    longDesc: Kafka delay experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: time
      desc: delay time
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: offset
      desc: delay offset for the time
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Delay when the producer sends the message
      blade create k8s container-kafka delay --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --time 3000 --producer
    programs:
    - java
    categories:
    - java_delay
  - action: throwCustomException
    aliases: [tce]
    shortDesc: throw custom exception
    longDesc: Kafka throws custom exception experiment
    matchers:
    - name: effect-count
      desc: The count of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-content
      desc: the script content to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: effect-percent
      desc: The percent of chaos experiment in effect
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pre-compile
      desc: pre compile
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: request-filter-key
      desc: the request filter key,for example,if your application has distributed
        trace key and need to filter request by the key,you can use this flag
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: producer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: topic
      desc: ""
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: filter-script-file
      desc: the script full path to filter request
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: consumer
      desc: ""
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: dry-run
      desc: dry-run
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    flags:
    - name: exception
      desc: Exception class inherit java.lang.Exception
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: exception-message
      desc: Specify exception message for exception experiment, default value is chaosblade-mock-exception
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: process
      desc: Application process name
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: pid
      desc: The process id
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: async
      desc: Whether to attach asynchronously, default is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: endpoint
      desc: the create result reporting address. It takes effect only when the async
        value is true and the value is not empty
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: refresh
      desc: Uninstall java agent and reload it
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: javaHome
      desc: Specify the JAVA_HOME variable to loading jre lib
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-count
      desc: Count of affected resource
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-percent
      desc: Percent of affected resource, integer value without %
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: names
      desc: Resource names, such as pod name. You must add namespace flag for it.
        Multiple parameters are separated directly by commas
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: namespace
      desc: Namespace, such as default, only one value can be specified
      noArgs: false
      required: true
      requiredWhenDestroyed: false
    - name: labels
      desc: Label selector, the relationship between values that are or
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: evict-group
      desc: Group key from labels
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-ids
      desc: Container ids
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-names
      desc: Container names
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: container-index
      desc: Container index, start from 0
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-path
      desc: Chaosblade tool deployment path, default value is /opt. Please select
        a path with write permission
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-override
      desc: Override the exists chaosblade tool in the target container or not, default
        value is false
      noArgs: true
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-deploy-mode
      desc: The mode of chaosblade deployment in container, the values are copy and
        download, the default value is copy which copy tool from the operator to the
        target container. If you select download mode, the operator will download
        chaosblade tool from the chaosblade-download-url.
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: chaosblade-download-url
      desc: The chaosblade downloaded address. If you use download deployment mode,
        you must specify the value, or config chaosblade-download-url when deploying
        the operator
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    - name: timeout
      desc: set timeout for experiment
      noArgs: false
      required: false
      requiredWhenDestroyed: false
    example: |-
      # Throw exception when the producer sends the message
      blade create k8s container-kafka throwCustomException --names nginx-app --container-ids f1de335b4eeaf --kubeconfig ~/.kube/config --namespace default --exception java.lang.Exception --exception-message mock-beans-exception --producer
    programs:
    - java
    categories:
    - java_custom
  scope: container
